<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.2" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://chenvibes.github.io/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html"><meta property="og:site_name" content="Mr Chen's Blog"><meta property="og:title" content="React Hook"><meta property="og:description" content="// TODO 待修改 Class 组件存在的问题 1. 复杂组件变得难以理解： 我们在最初编写一个 class 组件时，往往逻辑比较简单，并不会非常复杂。但是随着业务的增多，我们的 class 组件会变得越来越复杂 比如 componentDidMount 中，可能就会包含大量的逻辑代码：包括网络请求、一些事件的监听（还需要在 componentWi..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-12-09T06:32:03.000Z"><meta property="article:author" content="Mr.Chen"><meta property="article:modified_time" content="2023-12-09T06:32:03.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"React Hook","image":[""],"dateModified":"2023-12-09T06:32:03.000Z","author":[{"@type":"Person","name":"Mr.Chen","url":"/logo.png"}]}</script><meta name="referrer" content="no-referrer"><link href=" https://cdn.jsdelivr.net/npm/atropos@2.0.2/atropos.min.css" rel="stylesheet"><script src="https://cdn.jsdelivr.net/npm/atropos@2.0.2/atropos.min.js" async></script><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><link rel="icon" href="/logo.png"><title>React Hook | Mr Chen's Blog</title><meta name="description" content="// TODO 待修改 Class 组件存在的问题 1. 复杂组件变得难以理解： 我们在最初编写一个 class 组件时，往往逻辑比较简单，并不会非常复杂。但是随着业务的增多，我们的 class 组件会变得越来越复杂 比如 componentDidMount 中，可能就会包含大量的逻辑代码：包括网络请求、一些事件的监听（还需要在 componentWi...">
    <link rel="preload" href="/assets/style-qGp-iWH4.css" as="style"><link rel="stylesheet" href="/assets/style-qGp-iWH4.css">
    <link rel="modulepreload" href="/assets/app-_V2SQyIj.js"><link rel="modulepreload" href="/assets/ReactHook.html-5WUW4NSs.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-x3n3nnut.js"><link rel="modulepreload" href="/assets/ReactHook.html-rjWwr6rP.js">
    <link rel="prefetch" href="/assets/index.html-MPqv3Pf-.js" as="script"><link rel="prefetch" href="/assets/index.html-ycWCjerm.js" as="script"><link rel="prefetch" href="/assets/index.html--6IN8u4r.js" as="script"><link rel="prefetch" href="/assets/前后端数据交互.html-2TjCvQQK.js" as="script"><link rel="prefetch" href="/assets/本地存储.html-L7xYCMHW.js" as="script"><link rel="prefetch" href="/assets/index.html-9CyUaUZW.js" as="script"><link rel="prefetch" href="/assets/WebSocket的嵌入.html-6kCnNGN0.js" as="script"><link rel="prefetch" href="/assets/http断点续传原理.html-M4uHeDKR.js" as="script"><link rel="prefetch" href="/assets/tff字体图标文件恢复iconfont项目.html-OEa37FR6.js" as="script"><link rel="prefetch" href="/assets/window.btoa 和 window.atob方法实现编码与解码.html-VD7VUfKo.js" as="script"><link rel="prefetch" href="/assets/一行代码全站进入悼念模式.html-ZDKVt6Yr.js" as="script"><link rel="prefetch" href="/assets/不同场景下的文件下载方案.html-K61hQo0u.js" as="script"><link rel="prefetch" href="/assets/九种跨域解决方案.html-siLL-nzG.js" as="script"><link rel="prefetch" href="/assets/前端跨页面通信.html-nozB4SxV.js" as="script"><link rel="prefetch" href="/assets/如何精确统计页面停留时长.html-2-vYP8OA.js" as="script"><link rel="prefetch" href="/assets/开发常用代码片段.html-7TP_Uqjm.js" as="script"><link rel="prefetch" href="/assets/查找文件夹下的文件.html-T459SbPq.js" as="script"><link rel="prefetch" href="/assets/书签.html-AHziLZ8O.js" as="script"><link rel="prefetch" href="/assets/index.html-sT3kw9ik.js" as="script"><link rel="prefetch" href="/assets/index.html-x5s_e7lw.js" as="script"><link rel="prefetch" href="/assets/Node.html-MMsI3tX_.js" as="script"><link rel="prefetch" href="/assets/index.html-ALOtVS9y.js" as="script"><link rel="prefetch" href="/assets/koa.html-0ZZMXhmT.js" as="script"><link rel="prefetch" href="/assets/node基础知识以及常用库.html-tUdCdJ-p.js" as="script"><link rel="prefetch" href="/assets/index.html-jSV_hr9S.js" as="script"><link rel="prefetch" href="/assets/python.html-zNc5n-Kw.js" as="script"><link rel="prefetch" href="/assets/MongoDB.html-7O2fTvY6.js" as="script"><link rel="prefetch" href="/assets/index.html-Az1eHQ68.js" as="script"><link rel="prefetch" href="/assets/mysql.html-6R79-RCV.js" as="script"><link rel="prefetch" href="/assets/深入浅出mongoose.html-KxJ8U9pv.js" as="script"><link rel="prefetch" href="/assets/01.html-F-zlvIoT.js" as="script"><link rel="prefetch" href="/assets/index.html-wlZrG1yU.js" as="script"><link rel="prefetch" href="/assets/思维导图.html-spREiRtH.js" as="script"><link rel="prefetch" href="/assets/Crypto-js---加密算法库.html-RAxbB-Jg.js" as="script"><link rel="prefetch" href="/assets/index.html-V6FMmwPf.js" as="script"><link rel="prefetch" href="/assets/常见算法相关的JavaScript实现.html-utpceqLi.js" as="script"><link rel="prefetch" href="/assets/index.html-D3olvY2a.js" as="script"><link rel="prefetch" href="/assets/概述篇.html-Eneizdfq.js" as="script"><link rel="prefetch" href="/assets/CSS图片底侧空白缝隙解决方案.html-zNuQ6S2Q.js" as="script"><link rel="prefetch" href="/assets/CSS文本溢出处理方式.html-t2GULYBW.js" as="script"><link rel="prefetch" href="/assets/index.html-uPnJ9AiY.js" as="script"><link rel="prefetch" href="/assets/Web移动端适配的一些思考.html-vYE1KJkw.js" as="script"><link rel="prefetch" href="/assets/利用calc函数轻松实现各种宽高自适应.html-Uwxbea_e.js" as="script"><link rel="prefetch" href="/assets/Array.prototype.slice.call()_Array.from()的应用和理解.html-eL9ioTUc.js" as="script"><link rel="prefetch" href="/assets/index.html-DkpNZpP8.js" as="script"><link rel="prefetch" href="/assets/js的严格模式.html-voVUlyP9.js" as="script"><link rel="prefetch" href="/assets/关于async和await.html-tOTevZ-I.js" as="script"><link rel="prefetch" href="/assets/动态修改favicon网站图标地址.html-NOJUA6iQ.js" as="script"><link rel="prefetch" href="/assets/在输入框的光标处插入内容.html-OgSCRF80.js" as="script"><link rel="prefetch" href="/assets/数组delete元素.html-3f0sxzQy.js" as="script"><link rel="prefetch" href="/assets/数组对象对比找出差异项.html-fsUj8NmJ.js" as="script"><link rel="prefetch" href="/assets/数组对象根据对象中指定的属性去重.html-mQZ2ZxIz.js" as="script"><link rel="prefetch" href="/assets/数组对象根据数据项状态属性如何筛选数据.html-qiKkpJLj.js" as="script"><link rel="prefetch" href="/assets/理解js事件循环.html-LMM2Wja1.js" as="script"><link rel="prefetch" href="/assets/重新理解闭包.html-nJt1mshW.js" as="script"><link rel="prefetch" href="/assets/Hook对比HOC和renderProps.html-3I4bNONo.js" as="script"><link rel="prefetch" href="/assets/index.html-7quLeujH.js" as="script"><link rel="prefetch" href="/assets/测试代码.html-abl0m1Mg.js" as="script"><link rel="prefetch" href="/assets/index.html-jigUYG0u.js" as="script"><link rel="prefetch" href="/assets/Vue 项目总结.html-PYlA6LiK.js" as="script"><link rel="prefetch" href="/assets/element-ui清除表单的奇怪现象.html-sx47b03w.js" as="script"><link rel="prefetch" href="/assets/v-modelSync修饰符使用和原理.html-zoAlsGs2.js" as="script"><link rel="prefetch" href="/assets/vue2echarts数据报表项目学习心得.html-uT_31wnU.js" as="script"><link rel="prefetch" href="/assets/vue2中使用lodash实现节流防抖.html-wpsfGI6P.js" as="script"><link rel="prefetch" href="/assets/vue2中的css深度选择器.html-emLoTfGK.js" as="script"><link rel="prefetch" href="/assets/vue2和vue3的v-if与v-for的优先级差异.html-owWDlidH.js" as="script"><link rel="prefetch" href="/assets/vue2实现滚动窗口同步滚动.html-rjAxOnW1.js" as="script"><link rel="prefetch" href="/assets/vue2继承组件覆盖父组件属性及方法.html-kiZGdDdo.js" as="script"><link rel="prefetch" href="/assets/vue2虚拟列表实现.html-l6sBj_-V.js" as="script"><link rel="prefetch" href="/assets/vue3vite3.0项目支持路径别名.html-i0YNgzyo.js" as="script"><link rel="prefetch" href="/assets/vue3开发RABC权限管理系统.html-r2lerdKH.js" as="script"><link rel="prefetch" href="/assets/vue开源项目库.html-ZDjesndl.js" as="script"><link rel="prefetch" href="/assets/index.html-GiMN9oUG.js" as="script"><link rel="prefetch" href="/assets/常见的网站安全问题.html-fkSFEa5c.js" as="script"><link rel="prefetch" href="/assets/防调试手段.html-4AShuAfe.js" as="script"><link rel="prefetch" href="/assets/H5微信分享.html-vaMi6Rm_.js" as="script"><link rel="prefetch" href="/assets/index.html-Gle8kb49.js" as="script"><link rel="prefetch" href="/assets/微信小程序多环境打包发布配置.html-CmI0T_te.js" as="script"><link rel="prefetch" href="/assets/微信常见功能.html-c84W9E09.js" as="script"><link rel="prefetch" href="/assets/index.html-wtzrjMNr.js" as="script"><link rel="prefetch" href="/assets/table中渲染select等组件卡顿问题.html-DJ00Dmvz.js" as="script"><link rel="prefetch" href="/assets/前端性能优化总结.html-B0Ow4hOG.js" as="script"><link rel="prefetch" href="/assets/前端缓存.html-LFKR6e6H.js" as="script"><link rel="prefetch" href="/assets/压缩图片.html-xrAmJdPw.js" as="script"><link rel="prefetch" href="/assets/CSS 书写规范建议.html-9co2Z3Eu.js" as="script"><link rel="prefetch" href="/assets/JS模块规范：AMD、UMD、CMD、commonJS、ES6 module.html-KAT4N0mc.js" as="script"><link rel="prefetch" href="/assets/index.html-CBE4A2pD.js" as="script"><link rel="prefetch" href="/assets/commonJs详解.html--3l-pcZu.js" as="script"><link rel="prefetch" href="/assets/Flex布局.html-gbZw5TNW.js" as="script"><link rel="prefetch" href="/assets/index.html-FNAQ6kcM.js" as="script"><link rel="prefetch" href="/assets/Sass.html-yhDSl5Qp.js" as="script"><link rel="prefetch" href="/assets/index.html-0vQX6XOy.js" as="script"><link rel="prefetch" href="/assets/Git版本控制工具.html-XTfaeP69.js" as="script"><link rel="prefetch" href="/assets/Linux.html-HJ4cOHnA.js" as="script"><link rel="prefetch" href="/assets/index.html-kgLTwbP4.js" as="script"><link rel="prefetch" href="/assets/Vite基本配置.html-WhRwnJJu.js" as="script"><link rel="prefetch" href="/assets/Webpack_babel.html-5AnxsQhO.js" as="script"><link rel="prefetch" href="/assets/Webpack4.0.html-Groy7Pad.js" as="script"><link rel="prefetch" href="/assets/Webpack5.0学习总结.html-a8ZzmFpp.js" as="script"><link rel="prefetch" href="/assets/mac安装pod流程.html-CJusnBKC.js" as="script"><link rel="prefetch" href="/assets/nginx配置.html-qHY6LBvU.js" as="script"><link rel="prefetch" href="/assets/npm、yarn、cnpm、npx、pnpm的区别.html-ZEVCRByz.js" as="script"><link rel="prefetch" href="/assets/npm版本开发实践.html-QDBkn0FK.js" as="script"><link rel="prefetch" href="/assets/vscode常用插件.html-XqwqOB1b.js" as="script"><link rel="prefetch" href="/assets/vue-cli3.X自动部署项目到服务器.html-nJEEYevB.js" as="script"><link rel="prefetch" href="/assets/删除RN安卓开发环境.html-U2Ug343F.js" as="script"><link rel="prefetch" href="/assets/微服务架构和分布式架构的区别是什么.html-XBoCtTR6.js" as="script"><link rel="prefetch" href="/assets/服务器如何设置服务自动启动进程.html-ekG532_n.js" as="script"><link rel="prefetch" href="/assets/理解serverless无服务架构.html-bGHsXbnG.js" as="script"><link rel="prefetch" href="/assets/阿里云linux服务器安装桌面.html-ZhLD9KOL.js" as="script"><link rel="prefetch" href="/assets/阿里云轻量应用服务器防火墙配置.html-CMbpxE_l.js" as="script"><link rel="prefetch" href="/assets/index.html-IvsjTAVR.js" as="script"><link rel="prefetch" href="/assets/index.html-Owvqp7Sd.js" as="script"><link rel="prefetch" href="/assets/微信小程序.html-LqWW1trc.js" as="script"><link rel="prefetch" href="/assets/index.html-VPyC2-_9.js" as="script"><link rel="prefetch" href="/assets/vuex和redux的数据持久化缓存方案.html-8SLkq9wQ.js" as="script"><link rel="prefetch" href="/assets/vue与react全面对比.html-SQqY1FSX.js" as="script"><link rel="prefetch" href="/assets/前端工程师自检清单.html-1tM4Y2is.js" as="script"><link rel="prefetch" href="/assets/index.html-f2hynNFk.js" as="script"><link rel="prefetch" href="/assets/如何全面系统掌握前端效率工程化.html-X_QZwVSI.js" as="script"><link rel="prefetch" href="/assets/最新的前端大厂面经（详解答案）.html-ciBZah6G.js" as="script"><link rel="prefetch" href="/assets/面经系列-css.html-Ma9SEodR.js" as="script"><link rel="prefetch" href="/assets/面经系列-html.html-GFcXF4Sr.js" as="script"><link rel="prefetch" href="/assets/面经系列-js.html-4W5VYOdt.js" as="script"><link rel="prefetch" href="/assets/面经系列-vue.html-jQVQTKNp.js" as="script"><link rel="prefetch" href="/assets/面经系列-优化.html-ZXnRsMcZ.js" as="script"><link rel="prefetch" href="/assets/面经系列-基础面试题.html-7SU-rso8.js" as="script"><link rel="prefetch" href="/assets/面经系列-浏览器.html-XR0Qo0iK.js" as="script"><link rel="prefetch" href="/assets/index.html-9h5EeQDf.js" as="script"><link rel="prefetch" href="/assets/mac提示app已损坏解决方法.html-eBtWnggV.js" as="script"><link rel="prefetch" href="/assets/mac软件.html-USc7tYuc.js" as="script"><link rel="prefetch" href="/assets/index.html-Hyvut_ET.js" as="script"><link rel="prefetch" href="/assets/u盘修复方法.html--qbdnq7g.js" as="script"><link rel="prefetch" href="/assets/IntelliJ系软件破解.html-gaXKofX2.js" as="script"><link rel="prefetch" href="/assets/IntelliJ软件插件.html-6Nr8ckjh.js" as="script"><link rel="prefetch" href="/assets/index.html-6A7FL9ld.js" as="script"><link rel="prefetch" href="/assets/git.html-STta6hod.js" as="script"><link rel="prefetch" href="/assets/homebrew.html-dbfe2kI3.js" as="script"><link rel="prefetch" href="/assets/阿里云对象存储图床搭建.html-VRS-3W0O.js" as="script"><link rel="prefetch" href="/assets/Ohpm 安装失败解决办法.md.html-4yF03fwK.js" as="script"><link rel="prefetch" href="/assets/index.html-uhh95ZXW.js" as="script"><link rel="prefetch" href="/assets/index.html-xgyQanWI.js" as="script"><link rel="prefetch" href="/assets/开发环境搭建.html-UdArTcXp.js" as="script"><link rel="prefetch" href="/assets/编程思想.html-rjoZf6SD.js" as="script"><link rel="prefetch" href="/assets/概述.html-viYUeIGR.js" as="script"><link rel="prefetch" href="/assets/PBR材质纹理.html-PkTyc4xg.js" as="script"><link rel="prefetch" href="/assets/index.html-CxusYuLQ.js" as="script"><link rel="prefetch" href="/assets/Threejs物体.html-asZR-Jzu.js" as="script"><link rel="prefetch" href="/assets/Three开发入门与调试设置.html-1UYjVml0.js" as="script"><link rel="prefetch" href="/assets/开发环境搭建.html-5rWEGPaV.js" as="script"><link rel="prefetch" href="/assets/材质与纹理.html-LqTCTTGs.js" as="script"><link rel="prefetch" href="/assets/灯光与阴影.html-MaE3B23f.js" as="script"><link rel="prefetch" href="/assets/canvas基础.html-rDpb0oS6.js" as="script"><link rel="prefetch" href="/assets/回流重绘.html-psbeJi2v.js" as="script"><link rel="prefetch" href="/assets/浏览器.html-XsCUyw7t.js" as="script"><link rel="prefetch" href="/assets/20_ css高频实用片段.html-RM0kQcAZ.js" as="script"><link rel="prefetch" href="/assets/2D与3D转换.html-O1xn32Uw.js" as="script"><link rel="prefetch" href="/assets/CSS八种让人眼前一亮的HOVER效果.html-_eXMf3fd.js" as="script"><link rel="prefetch" href="/assets/less.html-IizgKh0B.js" as="script"><link rel="prefetch" href="/assets/基础与盒模型.html-mph6-bwG.js" as="script"><link rel="prefetch" href="/assets/浮动与定位.html-Q8RN5wiM.js" as="script"><link rel="prefetch" href="/assets/背景与渐变.html-MgDxPRNX.js" as="script"><link rel="prefetch" href="/assets/踩雷css.html-qI-KVU8z.js" as="script"><link rel="prefetch" href="/assets/边框圆角与盒子阴影.html-gI0SA_oQ.js" as="script"><link rel="prefetch" href="/assets/过渡与动画.html-2hHUS086.js" as="script"><link rel="prefetch" href="/assets/H5C3总结.html-7c5kFSCh.js" as="script"><link rel="prefetch" href="/assets/H5CSS3.html-afblmtqq.js" as="script"><link rel="prefetch" href="/assets/HTML5.html-U7cZ1RWZ.js" as="script"><link rel="prefetch" href="/assets/HTML5移动开发UI框架.html-O7YgfGji.js" as="script"><link rel="prefetch" href="/assets/前端动画.html-5PRnDTnu.js" as="script"><link rel="prefetch" href="/assets/Ajax.html-o7nDIUT1.js" as="script"><link rel="prefetch" href="/assets/BOM.html-gmcVRyt2.js" as="script"><link rel="prefetch" href="/assets/Canvas.html-GMadpHIz.js" as="script"><link rel="prefetch" href="/assets/DOM.html-61T9kb5i.js" as="script"><link rel="prefetch" href="/assets/JavaScript23种设计模式.html-EVBJe3QJ.js" as="script"><link rel="prefetch" href="/assets/JavaScript函数库.html-w-Nfev2W.js" as="script"><link rel="prefetch" href="/assets/Javascript异步编程的4种方法.html-tLqOBL9u.js" as="script"><link rel="prefetch" href="/assets/Ts核心知识点总结.html-GiGkLIds.js" as="script"><link rel="prefetch" href="/assets/js方法手动实现.html-wloRgROI.js" as="script"><link rel="prefetch" href="/assets/函数.html-mkrOJnBY.js" as="script"><link rel="prefetch" href="/assets/变量与数据类型.html-IecDwZ2b.js" as="script"><link rel="prefetch" href="/assets/操作符.html-cFRNdak2.js" as="script"><link rel="prefetch" href="/assets/数组.html-agOrca4n.js" as="script"><link rel="prefetch" href="/assets/正则表达式.html-V-K3gjEh.js" as="script"><link rel="prefetch" href="/assets/流程控制语句.html-AYzEnDld.js" as="script"><link rel="prefetch" href="/assets/难点总结.html-w2zRUScP.js" as="script"><link rel="prefetch" href="/assets/面向对象.html-o-HLgFif.js" as="script"><link rel="prefetch" href="/assets/HarmonyOS基础.html-4Cu4jRpR.js" as="script"><link rel="prefetch" href="/assets/HarmonyOs、Vue、React对比.html-irGJZheU.js" as="script"><link rel="prefetch" href="/assets/index.html-Cp6pstFJ.js" as="script"><link rel="prefetch" href="/assets/JSX核心语法.html-bsd-hT1C.js" as="script"><link rel="prefetch" href="/assets/index.html-tbOGn2sR.js" as="script"><link rel="prefetch" href="/assets/React.html-g8v6omJz.js" as="script"><link rel="prefetch" href="/assets/ReactRouter.html-iE8pzFR3.js" as="script"><link rel="prefetch" href="/assets/React与TypeScript.html-NMlss_CP.js" as="script"><link rel="prefetch" href="/assets/React中axios.html-l03zInaW.js" as="script"><link rel="prefetch" href="/assets/React中的CSS.html-dtKjswAL.js" as="script"><link rel="prefetch" href="/assets/React总结.html-aUDxxPAj.js" as="script"><link rel="prefetch" href="/assets/React的过渡动画.html-Gy1p8nc6.js" as="script"><link rel="prefetch" href="/assets/React组件化开发.html-ja0v7kzq.js" as="script"><link rel="prefetch" href="/assets/Redux.html-eI0Fajh3.js" as="script"><link rel="prefetch" href="/assets/react学习路线.html-RVzqhvUC.js" as="script"><link rel="prefetch" href="/assets/Pinia.html-2rlYsacQ.js" as="script"><link rel="prefetch" href="/assets/index.html-nsP1izYq.js" as="script"><link rel="prefetch" href="/assets/Vue3.0新特性.html-Nqe-iJkz.js" as="script"><link rel="prefetch" href="/assets/Vue3.html-iunzdvCz.js" as="script"><link rel="prefetch" href="/assets/VueRouter.html-_8mbgGLN.js" as="script"><link rel="prefetch" href="/assets/VueX.html-PBWzbcrU.js" as="script"><link rel="prefetch" href="/assets/Vue核心.html-UHgR6HVG.js" as="script"><link rel="prefetch" href="/assets/Vue组件化编程.html-gVhvkqv9.js" as="script"><link rel="prefetch" href="/assets/index.html-w89DAOK9.js" as="script"><link rel="prefetch" href="/assets/深入理解javascript原型和闭包.html-XVHhOQYy.js" as="script"><link rel="prefetch" href="/assets/Class类.html-DrsjjAlf.js" as="script"><link rel="prefetch" href="/assets/ES6的新增方法.html-fcRa_9i6.js" as="script"><link rel="prefetch" href="/assets/Generator.html-aA_YVTtk.js" as="script"><link rel="prefetch" href="/assets/Module模块.html-Q4RQMDdk.js" as="script"><link rel="prefetch" href="/assets/Promise.html-PJRrBNTX.js" as="script"><link rel="prefetch" href="/assets/Proxy和Reflect.html-POSKS7DC.js" as="script"><link rel="prefetch" href="/assets/Set和Map数据结构.html-77AxE4cX.js" as="script"><link rel="prefetch" href="/assets/let和const.html-Hv2avweJ.js" as="script"><link rel="prefetch" href="/assets/剩余参数与展开运算符.html-1ux2tMeL.js" as="script"><link rel="prefetch" href="/assets/对象字面量的增强与函数参数的默认值.html-TV4-PzTE.js" as="script"><link rel="prefetch" href="/assets/模板字符串与箭头函数.html-5bIzwYgZ.js" as="script"><link rel="prefetch" href="/assets/解构赋值.html-Mymgs-6Y.js" as="script"><link rel="prefetch" href="/assets/遍历器与for...of循环.html-sa3dV-J8.js" as="script"><link rel="prefetch" href="/assets/index.html-qW7WuxTy.js" as="script"><link rel="prefetch" href="/assets/TS基础.html-FctTPTND.js" as="script"><link rel="prefetch" href="/assets/TS进阶.html-8aV3Ot--.js" as="script"><link rel="prefetch" href="/assets/index.html-OspnsT7o.js" as="script"><link rel="prefetch" href="/assets/图.html-T7IDGxkf.js" as="script"><link rel="prefetch" href="/assets/字典.html-Xl_8Vgk_.js" as="script"><link rel="prefetch" href="/assets/时间空间复杂度.html-tY08ilXy.js" as="script"><link rel="prefetch" href="/assets/栈.html-ewOPjnbW.js" as="script"><link rel="prefetch" href="/assets/树.html-fNH9Yzut.js" as="script"><link rel="prefetch" href="/assets/链表.html-T9k5OZMZ.js" as="script"><link rel="prefetch" href="/assets/队列.html-5bhMD82P.js" as="script"><link rel="prefetch" href="/assets/集合.html-Jm8koort.js" as="script"><link rel="prefetch" href="/assets/如何优雅的使用vue_Dcloud（Hbuild）开发混合app.html-vDwfTrI4.js" as="script"><link rel="prefetch" href="/assets/打包app.html-UYfBK688.js" as="script"><link rel="prefetch" href="/assets/移动Web.html-ipRGxcAb.js" as="script"><link rel="prefetch" href="/assets/移动Web开发入门.html-vr_cUFFx.js" as="script"><link rel="prefetch" href="/assets/移动端真机调试spy-debugger.html-q6t6p72U.js" as="script"><link rel="prefetch" href="/assets/JavaScript.html-i7TtudHm.js" as="script"><link rel="prefetch" href="/assets/index.html-f-XQOl86.js" as="script"><link rel="prefetch" href="/assets/基础知识.html-mIh_LQWQ.js" as="script"><link rel="prefetch" href="/assets/官网博客案例实现.html-E61qtrlf.js" as="script"><link rel="prefetch" href="/assets/index.html-EFT_Aus9.js" as="script"><link rel="prefetch" href="/assets/React-Native.html-h4shrvfM.js" as="script"><link rel="prefetch" href="/assets/React-Native总结.html-okjlGnO4.js" as="script"><link rel="prefetch" href="/assets/404.html-vjNItaNH.js" as="script"><link rel="prefetch" href="/assets/index.html-edIw6dS4.js" as="script"><link rel="prefetch" href="/assets/index.html-hmkkPSjD.js" as="script"><link rel="prefetch" href="/assets/index.html-gIjr4K5Q.js" as="script"><link rel="prefetch" href="/assets/index.html-LsTvsu4f.js" as="script"><link rel="prefetch" href="/assets/index.html-s7guB2xr.js" as="script"><link rel="prefetch" href="/assets/index.html-ezFSmSoh.js" as="script"><link rel="prefetch" href="/assets/index.html-iwCM85ho.js" as="script"><link rel="prefetch" href="/assets/index.html-XRr8oM8r.js" as="script"><link rel="prefetch" href="/assets/index.html-9V_wHPYs.js" as="script"><link rel="prefetch" href="/assets/index.html-K90HmI3k.js" as="script"><link rel="prefetch" href="/assets/index.html-68gUoS4H.js" as="script"><link rel="prefetch" href="/assets/index.html---etBPqt.js" as="script"><link rel="prefetch" href="/assets/index.html-vVuy0TwW.js" as="script"><link rel="prefetch" href="/assets/index.html-PU0SmGyN.js" as="script"><link rel="prefetch" href="/assets/index.html-jVV88ps7.js" as="script"><link rel="prefetch" href="/assets/index.html-e2AI1Sky.js" as="script"><link rel="prefetch" href="/assets/index.html-o7NAvIKt.js" as="script"><link rel="prefetch" href="/assets/index.html-NWN_VrOT.js" as="script"><link rel="prefetch" href="/assets/index.html-H67sNgbu.js" as="script"><link rel="prefetch" href="/assets/index.html-Umf0Cqpd.js" as="script"><link rel="prefetch" href="/assets/index.html-AYrPfmbS.js" as="script"><link rel="prefetch" href="/assets/index.html-n8_wlwoG.js" as="script"><link rel="prefetch" href="/assets/index.html-VbbUSutK.js" as="script"><link rel="prefetch" href="/assets/index.html-uFJZVJwh.js" as="script"><link rel="prefetch" href="/assets/index.html-MSwKII16.js" as="script"><link rel="prefetch" href="/assets/index.html-zLbwkQlz.js" as="script"><link rel="prefetch" href="/assets/index.html-vPL5ZTyQ.js" as="script"><link rel="prefetch" href="/assets/index.html-M7a0X4kN.js" as="script"><link rel="prefetch" href="/assets/index.html-lp5ct1iC.js" as="script"><link rel="prefetch" href="/assets/index.html-Lp9f6FWv.js" as="script"><link rel="prefetch" href="/assets/index.html-iNiSrAxd.js" as="script"><link rel="prefetch" href="/assets/index.html-eWM4qkJO.js" as="script"><link rel="prefetch" href="/assets/index.html-iFaZAKVQ.js" as="script"><link rel="prefetch" href="/assets/index.html-jTi7r549.js" as="script"><link rel="prefetch" href="/assets/index.html-rEcDUcUg.js" as="script"><link rel="prefetch" href="/assets/index.html-fjkJ0hJ4.js" as="script"><link rel="prefetch" href="/assets/index.html-daQ0_J_I.js" as="script"><link rel="prefetch" href="/assets/index.html-_VBRJQDK.js" as="script"><link rel="prefetch" href="/assets/index.html-qv6sfN3r.js" as="script"><link rel="prefetch" href="/assets/index.html-uatExmdJ.js" as="script"><link rel="prefetch" href="/assets/index.html-UY7pw1j9.js" as="script"><link rel="prefetch" href="/assets/index.html-CK4rz8qU.js" as="script"><link rel="prefetch" href="/assets/index.html-XqhFMghH.js" as="script"><link rel="prefetch" href="/assets/index.html-opRDhYnY.js" as="script"><link rel="prefetch" href="/assets/index.html-8YfDgu1u.js" as="script"><link rel="prefetch" href="/assets/index.html-DawU9ka0.js" as="script"><link rel="prefetch" href="/assets/index.html-NHOYtyIC.js" as="script"><link rel="prefetch" href="/assets/index.html-e9F4dpTB.js" as="script"><link rel="prefetch" href="/assets/index.html-nSJ7bDQC.js" as="script"><link rel="prefetch" href="/assets/index.html-CGrXU1N6.js" as="script"><link rel="prefetch" href="/assets/index.html-52wyS4V9.js" as="script"><link rel="prefetch" href="/assets/index.html-vRJ7D8_Z.js" as="script"><link rel="prefetch" href="/assets/index.html-ui0nJ8yo.js" as="script"><link rel="prefetch" href="/assets/index.html-kfVYFxdH.js" as="script"><link rel="prefetch" href="/assets/index.html-fytpCGki.js" as="script"><link rel="prefetch" href="/assets/index.html-tp84qJd8.js" as="script"><link rel="prefetch" href="/assets/index.html-COLRyibb.js" as="script"><link rel="prefetch" href="/assets/index.html-HU76QiJT.js" as="script"><link rel="prefetch" href="/assets/index.html-V9C9Kuh5.js" as="script"><link rel="prefetch" href="/assets/index.html-CMkEnS3h.js" as="script"><link rel="prefetch" href="/assets/index.html-ms4BLMqT.js" as="script"><link rel="prefetch" href="/assets/index.html-gRFFnCCJ.js" as="script"><link rel="prefetch" href="/assets/index.html-KJA2CvlR.js" as="script"><link rel="prefetch" href="/assets/index.html-bADCZRbE.js" as="script"><link rel="prefetch" href="/assets/index.html-BQF3z8HL.js" as="script"><link rel="prefetch" href="/assets/index.html-KOrZonT6.js" as="script"><link rel="prefetch" href="/assets/index.html-AwWcqotA.js" as="script"><link rel="prefetch" href="/assets/index.html-5bppnysl.js" as="script"><link rel="prefetch" href="/assets/index.html-JWtghMUm.js" as="script"><link rel="prefetch" href="/assets/index.html-kzlZ8nac.js" as="script"><link rel="prefetch" href="/assets/index.html-6ennLQj1.js" as="script"><link rel="prefetch" href="/assets/index.html-jK7cJkEV.js" as="script"><link rel="prefetch" href="/assets/index.html-gdX0YX4d.js" as="script"><link rel="prefetch" href="/assets/index.html-JGIIdz_w.js" as="script"><link rel="prefetch" href="/assets/index.html-A-W6AesQ.js" as="script"><link rel="prefetch" href="/assets/index.html-Cbwh0Nea.js" as="script"><link rel="prefetch" href="/assets/index.html-sK78LMWr.js" as="script"><link rel="prefetch" href="/assets/index.html-NxFFmSMz.js" as="script"><link rel="prefetch" href="/assets/index.html-ASokxom0.js" as="script"><link rel="prefetch" href="/assets/index.html-AsIpEiJx.js" as="script"><link rel="prefetch" href="/assets/index.html-vOjDn9Np.js" as="script"><link rel="prefetch" href="/assets/index.html-etpWoj83.js" as="script"><link rel="prefetch" href="/assets/index.html-L7DFhpz2.js" as="script"><link rel="prefetch" href="/assets/index.html-uQ0YeWlC.js" as="script"><link rel="prefetch" href="/assets/index.html-8f2aIgNa.js" as="script"><link rel="prefetch" href="/assets/index.html-C5uhxG65.js" as="script"><link rel="prefetch" href="/assets/index.html-Q5k3v7Yj.js" as="script"><link rel="prefetch" href="/assets/index.html-LbWubabM.js" as="script"><link rel="prefetch" href="/assets/index.html-djxnR8B-.js" as="script"><link rel="prefetch" href="/assets/index.html-KEKCrzm_.js" as="script"><link rel="prefetch" href="/assets/index.html-Xrv0m4xg.js" as="script"><link rel="prefetch" href="/assets/index.html-rwEqfpoH.js" as="script"><link rel="prefetch" href="/assets/index.html-HhVi8o_t.js" as="script"><link rel="prefetch" href="/assets/index.html-dHe7zjpH.js" as="script"><link rel="prefetch" href="/assets/index.html-9jokSY3B.js" as="script"><link rel="prefetch" href="/assets/index.html-m2WqiI9S.js" as="script"><link rel="prefetch" href="/assets/index.html-MSMlNqO_.js" as="script"><link rel="prefetch" href="/assets/index.html-bgKUs2zZ.js" as="script"><link rel="prefetch" href="/assets/index.html-3XIqa0XC.js" as="script"><link rel="prefetch" href="/assets/index.html-9MJzyZYX.js" as="script"><link rel="prefetch" href="/assets/index.html-_Rv1Slu6.js" as="script"><link rel="prefetch" href="/assets/index.html-4wYCUpX2.js" as="script"><link rel="prefetch" href="/assets/index.html-5hsoWZ10.js" as="script"><link rel="prefetch" href="/assets/index.html-7FrC0I17.js" as="script"><link rel="prefetch" href="/assets/index.html-JCzUXZx_.js" as="script"><link rel="prefetch" href="/assets/index.html-0n1PgiLL.js" as="script"><link rel="prefetch" href="/assets/index.html-RsGtOBP8.js" as="script"><link rel="prefetch" href="/assets/index.html-7aHATsNg.js" as="script"><link rel="prefetch" href="/assets/index.html-ofIjsyyy.js" as="script"><link rel="prefetch" href="/assets/index.html-sl0_qBlR.js" as="script"><link rel="prefetch" href="/assets/index.html-zAEMt0vU.js" as="script"><link rel="prefetch" href="/assets/index.html-EMYoqEYs.js" as="script"><link rel="prefetch" href="/assets/index.html-laPaSFeo.js" as="script"><link rel="prefetch" href="/assets/index.html-9xsUxUEz.js" as="script"><link rel="prefetch" href="/assets/index.html-RLd5T2kK.js" as="script"><link rel="prefetch" href="/assets/index.html-Q7y70ArR.js" as="script"><link rel="prefetch" href="/assets/index.html-emrh8ZDO.js" as="script"><link rel="prefetch" href="/assets/index.html-Onyq5PEu.js" as="script"><link rel="prefetch" href="/assets/index.html-tSJRYSmQ.js" as="script"><link rel="prefetch" href="/assets/index.html-_cOIpPfi.js" as="script"><link rel="prefetch" href="/assets/index.html-7dXCMQYV.js" as="script"><link rel="prefetch" href="/assets/index.html-ZY1IzOQV.js" as="script"><link rel="prefetch" href="/assets/index.html-miMV8xP9.js" as="script"><link rel="prefetch" href="/assets/index.html-zNfXWaT9.js" as="script"><link rel="prefetch" href="/assets/index.html-Tdqbp_hI.js" as="script"><link rel="prefetch" href="/assets/index.html-8ZydmQVx.js" as="script"><link rel="prefetch" href="/assets/index.html-utveTEzU.js" as="script"><link rel="prefetch" href="/assets/index.html-J6-ysaYu.js" as="script"><link rel="prefetch" href="/assets/index.html-9kKb_wA9.js" as="script"><link rel="prefetch" href="/assets/index.html-DPrvTlTm.js" as="script"><link rel="prefetch" href="/assets/index.html-8a0JEMes.js" as="script"><link rel="prefetch" href="/assets/index.html-DDJDzpRB.js" as="script"><link rel="prefetch" href="/assets/index.html-QK7Dc9PR.js" as="script"><link rel="prefetch" href="/assets/index.html-ZeJmKwpx.js" as="script"><link rel="prefetch" href="/assets/index.html-9oP0RpMA.js" as="script"><link rel="prefetch" href="/assets/index.html-MmCjlKRq.js" as="script"><link rel="prefetch" href="/assets/index.html-V4fZ_XFs.js" as="script"><link rel="prefetch" href="/assets/index.html-ia9abPIK.js" as="script"><link rel="prefetch" href="/assets/index.html-6xpDoUb6.js" as="script"><link rel="prefetch" href="/assets/index.html-zxPD2fgr.js" as="script"><link rel="prefetch" href="/assets/index.html-OJSAmLLm.js" as="script"><link rel="prefetch" href="/assets/index.html-YEjSwUxC.js" as="script"><link rel="prefetch" href="/assets/index.html-Aj_xppy3.js" as="script"><link rel="prefetch" href="/assets/index.html-nCLt9bVp.js" as="script"><link rel="prefetch" href="/assets/index.html-A2FEyd5Y.js" as="script"><link rel="prefetch" href="/assets/index.html-GCdK-e8q.js" as="script"><link rel="prefetch" href="/assets/index.html-CATEtcww.js" as="script"><link rel="prefetch" href="/assets/index.html-XnEQCj4m.js" as="script"><link rel="prefetch" href="/assets/index.html-iZdP7pRg.js" as="script"><link rel="prefetch" href="/assets/index.html-JscJu_QC.js" as="script"><link rel="prefetch" href="/assets/index.html-afxEqokl.js" as="script"><link rel="prefetch" href="/assets/index.html-vAbtv3ZF.js" as="script"><link rel="prefetch" href="/assets/index.html-I0eRcCqi.js" as="script"><link rel="prefetch" href="/assets/index.html-p6AIAxYK.js" as="script"><link rel="prefetch" href="/assets/index.html-5FUR6SAL.js" as="script"><link rel="prefetch" href="/assets/index.html-f9r0M5G6.js" as="script"><link rel="prefetch" href="/assets/index.html-GqrB5HzQ.js" as="script"><link rel="prefetch" href="/assets/前后端数据交互.html-Dr7THscd.js" as="script"><link rel="prefetch" href="/assets/本地存储.html-I9hrJsa3.js" as="script"><link rel="prefetch" href="/assets/index.html-_fqLFad2.js" as="script"><link rel="prefetch" href="/assets/WebSocket的嵌入.html-IPFYpzTK.js" as="script"><link rel="prefetch" href="/assets/http断点续传原理.html-xfY2icZF.js" as="script"><link rel="prefetch" href="/assets/tff字体图标文件恢复iconfont项目.html-UOQg5CRt.js" as="script"><link rel="prefetch" href="/assets/window.btoa 和 window.atob方法实现编码与解码.html-7JgDytOL.js" as="script"><link rel="prefetch" href="/assets/一行代码全站进入悼念模式.html-sJByBvZO.js" as="script"><link rel="prefetch" href="/assets/不同场景下的文件下载方案.html-YfCVsjUY.js" as="script"><link rel="prefetch" href="/assets/九种跨域解决方案.html-th7BHA5q.js" as="script"><link rel="prefetch" href="/assets/前端跨页面通信.html-hHgB7wcu.js" as="script"><link rel="prefetch" href="/assets/如何精确统计页面停留时长.html--YfJMtwK.js" as="script"><link rel="prefetch" href="/assets/开发常用代码片段.html--pvBwBkh.js" as="script"><link rel="prefetch" href="/assets/查找文件夹下的文件.html-vXvSMhuK.js" as="script"><link rel="prefetch" href="/assets/书签.html-QvkS-Q_r.js" as="script"><link rel="prefetch" href="/assets/index.html-hLtKtTeu.js" as="script"><link rel="prefetch" href="/assets/index.html-qQEX97BY.js" as="script"><link rel="prefetch" href="/assets/Node.html-IWMGhegg.js" as="script"><link rel="prefetch" href="/assets/index.html-M_7e55F0.js" as="script"><link rel="prefetch" href="/assets/koa.html-yTqVW2Kp.js" as="script"><link rel="prefetch" href="/assets/node基础知识以及常用库.html-ei6BgNP7.js" as="script"><link rel="prefetch" href="/assets/index.html-MHbSHhWA.js" as="script"><link rel="prefetch" href="/assets/python.html-0bLx4MmR.js" as="script"><link rel="prefetch" href="/assets/MongoDB.html-Emw_gnT_.js" as="script"><link rel="prefetch" href="/assets/index.html-MryuwThC.js" as="script"><link rel="prefetch" href="/assets/mysql.html-0Rpyhi1d.js" as="script"><link rel="prefetch" href="/assets/深入浅出mongoose.html-KXgKMLlv.js" as="script"><link rel="prefetch" href="/assets/01.html-jkbKm50Q.js" as="script"><link rel="prefetch" href="/assets/index.html-zzT60rEC.js" as="script"><link rel="prefetch" href="/assets/思维导图.html-s3lEZHWm.js" as="script"><link rel="prefetch" href="/assets/Crypto-js---加密算法库.html-nEcbqDdv.js" as="script"><link rel="prefetch" href="/assets/index.html-sBVHj3za.js" as="script"><link rel="prefetch" href="/assets/常见算法相关的JavaScript实现.html-q-q60OQi.js" as="script"><link rel="prefetch" href="/assets/index.html-PFL5zdzX.js" as="script"><link rel="prefetch" href="/assets/概述篇.html-gYGtOSQw.js" as="script"><link rel="prefetch" href="/assets/CSS图片底侧空白缝隙解决方案.html-2pBSRkF7.js" as="script"><link rel="prefetch" href="/assets/CSS文本溢出处理方式.html-u33GQL26.js" as="script"><link rel="prefetch" href="/assets/index.html-qkLl3-u-.js" as="script"><link rel="prefetch" href="/assets/Web移动端适配的一些思考.html-aD3VhJZG.js" as="script"><link rel="prefetch" href="/assets/利用calc函数轻松实现各种宽高自适应.html-0E5JBdz-.js" as="script"><link rel="prefetch" href="/assets/Array.prototype.slice.call()_Array.from()的应用和理解.html-WfAaduPW.js" as="script"><link rel="prefetch" href="/assets/index.html-1FiauOHy.js" as="script"><link rel="prefetch" href="/assets/js的严格模式.html-TDqZqzCD.js" as="script"><link rel="prefetch" href="/assets/关于async和await.html-WgGuO9Z7.js" as="script"><link rel="prefetch" href="/assets/动态修改favicon网站图标地址.html-K17QZb6K.js" as="script"><link rel="prefetch" href="/assets/在输入框的光标处插入内容.html-MwxJHi8J.js" as="script"><link rel="prefetch" href="/assets/数组delete元素.html-x_5J4ed5.js" as="script"><link rel="prefetch" href="/assets/数组对象对比找出差异项.html-kK6yVx10.js" as="script"><link rel="prefetch" href="/assets/数组对象根据对象中指定的属性去重.html-vAGB8kYH.js" as="script"><link rel="prefetch" href="/assets/数组对象根据数据项状态属性如何筛选数据.html-qTqZ7hfF.js" as="script"><link rel="prefetch" href="/assets/理解js事件循环.html-2JXZ84H7.js" as="script"><link rel="prefetch" href="/assets/重新理解闭包.html-GC-YCwS2.js" as="script"><link rel="prefetch" href="/assets/Hook对比HOC和renderProps.html-gA1wxqwP.js" as="script"><link rel="prefetch" href="/assets/index.html-k8FEy7uz.js" as="script"><link rel="prefetch" href="/assets/测试代码.html-xvuVYPam.js" as="script"><link rel="prefetch" href="/assets/index.html-AsUVtIbv.js" as="script"><link rel="prefetch" href="/assets/Vue 项目总结.html-2338Xr3a.js" as="script"><link rel="prefetch" href="/assets/element-ui清除表单的奇怪现象.html-vGsPVm0P.js" as="script"><link rel="prefetch" href="/assets/v-modelSync修饰符使用和原理.html-cLoIVl17.js" as="script"><link rel="prefetch" href="/assets/vue2echarts数据报表项目学习心得.html-NQsUZBMD.js" as="script"><link rel="prefetch" href="/assets/vue2中使用lodash实现节流防抖.html-SDjembyR.js" as="script"><link rel="prefetch" href="/assets/vue2中的css深度选择器.html-g-5GnJjW.js" as="script"><link rel="prefetch" href="/assets/vue2和vue3的v-if与v-for的优先级差异.html-qZLckRLi.js" as="script"><link rel="prefetch" href="/assets/vue2实现滚动窗口同步滚动.html-E6JvVWk6.js" as="script"><link rel="prefetch" href="/assets/vue2继承组件覆盖父组件属性及方法.html-_oGt1YXX.js" as="script"><link rel="prefetch" href="/assets/vue2虚拟列表实现.html-I_w4j3iK.js" as="script"><link rel="prefetch" href="/assets/vue3vite3.0项目支持路径别名.html-xgDq3qBW.js" as="script"><link rel="prefetch" href="/assets/vue3开发RABC权限管理系统.html-RIvb90rI.js" as="script"><link rel="prefetch" href="/assets/vue开源项目库.html-qHEZNXMt.js" as="script"><link rel="prefetch" href="/assets/index.html-gNLvzE2A.js" as="script"><link rel="prefetch" href="/assets/常见的网站安全问题.html-mKOuazHu.js" as="script"><link rel="prefetch" href="/assets/防调试手段.html-3h1-OvKx.js" as="script"><link rel="prefetch" href="/assets/H5微信分享.html-6zIDd9xv.js" as="script"><link rel="prefetch" href="/assets/index.html-ZY_HbIas.js" as="script"><link rel="prefetch" href="/assets/微信小程序多环境打包发布配置.html-uqRAHq8o.js" as="script"><link rel="prefetch" href="/assets/微信常见功能.html-gaeDaIot.js" as="script"><link rel="prefetch" href="/assets/index.html-oXM6brfN.js" as="script"><link rel="prefetch" href="/assets/table中渲染select等组件卡顿问题.html-IE-oL5qt.js" as="script"><link rel="prefetch" href="/assets/前端性能优化总结.html-_5_VcM06.js" as="script"><link rel="prefetch" href="/assets/前端缓存.html-PsdKC5Wj.js" as="script"><link rel="prefetch" href="/assets/压缩图片.html--Bo1glFS.js" as="script"><link rel="prefetch" href="/assets/CSS 书写规范建议.html-RXw7HhvA.js" as="script"><link rel="prefetch" href="/assets/JS模块规范：AMD、UMD、CMD、commonJS、ES6 module.html-M4XfXAFb.js" as="script"><link rel="prefetch" href="/assets/index.html-8YEkPvry.js" as="script"><link rel="prefetch" href="/assets/commonJs详解.html-3yriHo13.js" as="script"><link rel="prefetch" href="/assets/Flex布局.html-ThmzJ343.js" as="script"><link rel="prefetch" href="/assets/index.html-ZqyUpFhG.js" as="script"><link rel="prefetch" href="/assets/Sass.html-9F_r3DAp.js" as="script"><link rel="prefetch" href="/assets/index.html-Tkj0J7In.js" as="script"><link rel="prefetch" href="/assets/Git版本控制工具.html-DoyUQFyJ.js" as="script"><link rel="prefetch" href="/assets/Linux.html-P_iu5NiQ.js" as="script"><link rel="prefetch" href="/assets/index.html-AVL3J7Gw.js" as="script"><link rel="prefetch" href="/assets/Vite基本配置.html-Uj8RQw9a.js" as="script"><link rel="prefetch" href="/assets/Webpack_babel.html-fE1RGlgw.js" as="script"><link rel="prefetch" href="/assets/Webpack4.0.html-kiYviBbD.js" as="script"><link rel="prefetch" href="/assets/Webpack5.0学习总结.html-X5uJa4gS.js" as="script"><link rel="prefetch" href="/assets/mac安装pod流程.html-IyWfx6F7.js" as="script"><link rel="prefetch" href="/assets/nginx配置.html-giZaAMNv.js" as="script"><link rel="prefetch" href="/assets/npm、yarn、cnpm、npx、pnpm的区别.html-BOGTenJt.js" as="script"><link rel="prefetch" href="/assets/npm版本开发实践.html-2AQhsdnI.js" as="script"><link rel="prefetch" href="/assets/vscode常用插件.html-pnIinCWR.js" as="script"><link rel="prefetch" href="/assets/vue-cli3.X自动部署项目到服务器.html-3gbBVf6I.js" as="script"><link rel="prefetch" href="/assets/删除RN安卓开发环境.html-wxA1fLk0.js" as="script"><link rel="prefetch" href="/assets/微服务架构和分布式架构的区别是什么.html-0gQjjIZt.js" as="script"><link rel="prefetch" href="/assets/服务器如何设置服务自动启动进程.html-GQttBnjR.js" as="script"><link rel="prefetch" href="/assets/理解serverless无服务架构.html-OEymsjXo.js" as="script"><link rel="prefetch" href="/assets/阿里云linux服务器安装桌面.html-ddVXaXud.js" as="script"><link rel="prefetch" href="/assets/阿里云轻量应用服务器防火墙配置.html-4gqZKbHV.js" as="script"><link rel="prefetch" href="/assets/index.html-VJE0MIgs.js" as="script"><link rel="prefetch" href="/assets/index.html-gyz9D-Vo.js" as="script"><link rel="prefetch" href="/assets/微信小程序.html-Inxtz-Tr.js" as="script"><link rel="prefetch" href="/assets/index.html-EtIqPMqu.js" as="script"><link rel="prefetch" href="/assets/vuex和redux的数据持久化缓存方案.html-qpdITrJl.js" as="script"><link rel="prefetch" href="/assets/vue与react全面对比.html-sDSEUWP5.js" as="script"><link rel="prefetch" href="/assets/前端工程师自检清单.html-POn2ol0x.js" as="script"><link rel="prefetch" href="/assets/index.html-RuV66aD0.js" as="script"><link rel="prefetch" href="/assets/如何全面系统掌握前端效率工程化.html-84dB-nxo.js" as="script"><link rel="prefetch" href="/assets/最新的前端大厂面经（详解答案）.html-vn2NsSjX.js" as="script"><link rel="prefetch" href="/assets/面经系列-css.html-653YHj6r.js" as="script"><link rel="prefetch" href="/assets/面经系列-html.html-fsrO57zF.js" as="script"><link rel="prefetch" href="/assets/面经系列-js.html-pRPmSced.js" as="script"><link rel="prefetch" href="/assets/面经系列-vue.html-pvNY6hEt.js" as="script"><link rel="prefetch" href="/assets/面经系列-优化.html-8_PIuz51.js" as="script"><link rel="prefetch" href="/assets/面经系列-基础面试题.html-c6FamrF3.js" as="script"><link rel="prefetch" href="/assets/面经系列-浏览器.html-ntQ5fAe1.js" as="script"><link rel="prefetch" href="/assets/index.html-K9iUbS1r.js" as="script"><link rel="prefetch" href="/assets/mac提示app已损坏解决方法.html-wB6VjhJp.js" as="script"><link rel="prefetch" href="/assets/mac软件.html-1EWOTKyX.js" as="script"><link rel="prefetch" href="/assets/index.html-1X_ATwcD.js" as="script"><link rel="prefetch" href="/assets/u盘修复方法.html-2B9SBJpz.js" as="script"><link rel="prefetch" href="/assets/IntelliJ系软件破解.html-XawwQQfp.js" as="script"><link rel="prefetch" href="/assets/IntelliJ软件插件.html-p6lzdVbL.js" as="script"><link rel="prefetch" href="/assets/index.html-cltSoQNl.js" as="script"><link rel="prefetch" href="/assets/git.html-rdP7JNIC.js" as="script"><link rel="prefetch" href="/assets/homebrew.html-4tauCH9W.js" as="script"><link rel="prefetch" href="/assets/阿里云对象存储图床搭建.html-Q6lsk2Xy.js" as="script"><link rel="prefetch" href="/assets/Ohpm 安装失败解决办法.md.html-JtAY-JSM.js" as="script"><link rel="prefetch" href="/assets/index.html-omcMR8Bx.js" as="script"><link rel="prefetch" href="/assets/index.html-gH_E0-tp.js" as="script"><link rel="prefetch" href="/assets/开发环境搭建.html-WlD1cONq.js" as="script"><link rel="prefetch" href="/assets/编程思想.html-Sf2CwoTG.js" as="script"><link rel="prefetch" href="/assets/概述.html-cH-Br75A.js" as="script"><link rel="prefetch" href="/assets/PBR材质纹理.html-ajvPMuwL.js" as="script"><link rel="prefetch" href="/assets/index.html-acupmbH_.js" as="script"><link rel="prefetch" href="/assets/Threejs物体.html-OhdsS5WF.js" as="script"><link rel="prefetch" href="/assets/Three开发入门与调试设置.html-nYGk8hIx.js" as="script"><link rel="prefetch" href="/assets/开发环境搭建.html-0ALivYar.js" as="script"><link rel="prefetch" href="/assets/材质与纹理.html-Gl71EOOr.js" as="script"><link rel="prefetch" href="/assets/灯光与阴影.html-F_gusvpD.js" as="script"><link rel="prefetch" href="/assets/canvas基础.html-Ljl4o4ek.js" as="script"><link rel="prefetch" href="/assets/回流重绘.html-HDEyxnJi.js" as="script"><link rel="prefetch" href="/assets/浏览器.html-dFUVgiXV.js" as="script"><link rel="prefetch" href="/assets/20_ css高频实用片段.html-JdnMkQLZ.js" as="script"><link rel="prefetch" href="/assets/2D与3D转换.html-7Jom0cVB.js" as="script"><link rel="prefetch" href="/assets/CSS八种让人眼前一亮的HOVER效果.html-kbitwCJY.js" as="script"><link rel="prefetch" href="/assets/less.html-gkx-Aps9.js" as="script"><link rel="prefetch" href="/assets/基础与盒模型.html-G2NzWpUI.js" as="script"><link rel="prefetch" href="/assets/浮动与定位.html--legLq1G.js" as="script"><link rel="prefetch" href="/assets/背景与渐变.html-lapi0Dbl.js" as="script"><link rel="prefetch" href="/assets/踩雷css.html-v52ZvtqC.js" as="script"><link rel="prefetch" href="/assets/边框圆角与盒子阴影.html-zK6ZFOEb.js" as="script"><link rel="prefetch" href="/assets/过渡与动画.html-i14AJ4hb.js" as="script"><link rel="prefetch" href="/assets/H5C3总结.html-pYJIW41C.js" as="script"><link rel="prefetch" href="/assets/H5CSS3.html-s5pICRDv.js" as="script"><link rel="prefetch" href="/assets/HTML5.html-wYyejp5g.js" as="script"><link rel="prefetch" href="/assets/HTML5移动开发UI框架.html-gF4H0nAW.js" as="script"><link rel="prefetch" href="/assets/前端动画.html-CVPyGuKY.js" as="script"><link rel="prefetch" href="/assets/Ajax.html-3alGFLqW.js" as="script"><link rel="prefetch" href="/assets/BOM.html-SD6Eevnb.js" as="script"><link rel="prefetch" href="/assets/Canvas.html-AoxK2hBI.js" as="script"><link rel="prefetch" href="/assets/DOM.html-9SC1058w.js" as="script"><link rel="prefetch" href="/assets/JavaScript23种设计模式.html-KQnkcm1H.js" as="script"><link rel="prefetch" href="/assets/JavaScript函数库.html-Ol3RwhV0.js" as="script"><link rel="prefetch" href="/assets/Javascript异步编程的4种方法.html-pRCtUnQm.js" as="script"><link rel="prefetch" href="/assets/Ts核心知识点总结.html-7xkrtSWX.js" as="script"><link rel="prefetch" href="/assets/js方法手动实现.html-M47WbOw5.js" as="script"><link rel="prefetch" href="/assets/函数.html-503LX8Vf.js" as="script"><link rel="prefetch" href="/assets/变量与数据类型.html-lGHn1Ogv.js" as="script"><link rel="prefetch" href="/assets/操作符.html-fLUXkFnt.js" as="script"><link rel="prefetch" href="/assets/数组.html-cz51XeZD.js" as="script"><link rel="prefetch" href="/assets/正则表达式.html-QlkmS5zs.js" as="script"><link rel="prefetch" href="/assets/流程控制语句.html-eybDCrYt.js" as="script"><link rel="prefetch" href="/assets/难点总结.html-chKsObVL.js" as="script"><link rel="prefetch" href="/assets/面向对象.html-aqwcCAMh.js" as="script"><link rel="prefetch" href="/assets/HarmonyOS基础.html-_foOhenQ.js" as="script"><link rel="prefetch" href="/assets/HarmonyOs、Vue、React对比.html-pArA6Hfq.js" as="script"><link rel="prefetch" href="/assets/index.html-F-Amxg6j.js" as="script"><link rel="prefetch" href="/assets/JSX核心语法.html-5Io4I38P.js" as="script"><link rel="prefetch" href="/assets/index.html-J1FejMqw.js" as="script"><link rel="prefetch" href="/assets/React.html-gLSVi7AW.js" as="script"><link rel="prefetch" href="/assets/ReactRouter.html-l_-63EqH.js" as="script"><link rel="prefetch" href="/assets/React与TypeScript.html-muStYvuD.js" as="script"><link rel="prefetch" href="/assets/React中axios.html-Zgz4wvk3.js" as="script"><link rel="prefetch" href="/assets/React中的CSS.html-7RgnmedH.js" as="script"><link rel="prefetch" href="/assets/React总结.html-G6homYdD.js" as="script"><link rel="prefetch" href="/assets/React的过渡动画.html-MHMKQWdX.js" as="script"><link rel="prefetch" href="/assets/React组件化开发.html-MPuDdSp7.js" as="script"><link rel="prefetch" href="/assets/Redux.html--o4h83t5.js" as="script"><link rel="prefetch" href="/assets/react学习路线.html-J4gjt_Um.js" as="script"><link rel="prefetch" href="/assets/Pinia.html-2E097sUn.js" as="script"><link rel="prefetch" href="/assets/index.html-6DUYX8xC.js" as="script"><link rel="prefetch" href="/assets/Vue3.0新特性.html-UEB9gMja.js" as="script"><link rel="prefetch" href="/assets/Vue3.html-nga6I3xl.js" as="script"><link rel="prefetch" href="/assets/VueRouter.html-c2fTpU6N.js" as="script"><link rel="prefetch" href="/assets/VueX.html-o8gtjMEx.js" as="script"><link rel="prefetch" href="/assets/Vue核心.html-AlHwBAAe.js" as="script"><link rel="prefetch" href="/assets/Vue组件化编程.html-zgInU31Z.js" as="script"><link rel="prefetch" href="/assets/index.html-wuOYnG3E.js" as="script"><link rel="prefetch" href="/assets/深入理解javascript原型和闭包.html-W3nKCKNa.js" as="script"><link rel="prefetch" href="/assets/Class类.html-oss36h1P.js" as="script"><link rel="prefetch" href="/assets/ES6的新增方法.html-R6Hj6G_8.js" as="script"><link rel="prefetch" href="/assets/Generator.html-6NV8MNsn.js" as="script"><link rel="prefetch" href="/assets/Module模块.html-1UMZi9uw.js" as="script"><link rel="prefetch" href="/assets/Promise.html-yBkFTFG1.js" as="script"><link rel="prefetch" href="/assets/Proxy和Reflect.html-qllSznWj.js" as="script"><link rel="prefetch" href="/assets/Set和Map数据结构.html-pXeXZCzJ.js" as="script"><link rel="prefetch" href="/assets/let和const.html-uPC1sIkM.js" as="script"><link rel="prefetch" href="/assets/剩余参数与展开运算符.html-tR6K1PrU.js" as="script"><link rel="prefetch" href="/assets/对象字面量的增强与函数参数的默认值.html-6yo03fMl.js" as="script"><link rel="prefetch" href="/assets/模板字符串与箭头函数.html-CdGX3YDA.js" as="script"><link rel="prefetch" href="/assets/解构赋值.html-1pnAVZnn.js" as="script"><link rel="prefetch" href="/assets/遍历器与for...of循环.html-UQaxICe9.js" as="script"><link rel="prefetch" href="/assets/index.html-xLRY4pmf.js" as="script"><link rel="prefetch" href="/assets/TS基础.html-AE2vpgyx.js" as="script"><link rel="prefetch" href="/assets/TS进阶.html-bs26UDjp.js" as="script"><link rel="prefetch" href="/assets/index.html-adl-XPXx.js" as="script"><link rel="prefetch" href="/assets/图.html-LyYXqBJ8.js" as="script"><link rel="prefetch" href="/assets/字典.html-pTvm4Cer.js" as="script"><link rel="prefetch" href="/assets/时间空间复杂度.html-mesY6QS_.js" as="script"><link rel="prefetch" href="/assets/栈.html-2uB2pm13.js" as="script"><link rel="prefetch" href="/assets/树.html-rrxneFFW.js" as="script"><link rel="prefetch" href="/assets/链表.html-FWiAJAp-.js" as="script"><link rel="prefetch" href="/assets/队列.html-BwpDl3Wa.js" as="script"><link rel="prefetch" href="/assets/集合.html-gjFsTns9.js" as="script"><link rel="prefetch" href="/assets/如何优雅的使用vue_Dcloud（Hbuild）开发混合app.html-ZQpz0gQm.js" as="script"><link rel="prefetch" href="/assets/打包app.html-KZBp8L5X.js" as="script"><link rel="prefetch" href="/assets/移动Web.html-U3YXyMTR.js" as="script"><link rel="prefetch" href="/assets/移动Web开发入门.html-RHnig-ZK.js" as="script"><link rel="prefetch" href="/assets/移动端真机调试spy-debugger.html--3TMpthF.js" as="script"><link rel="prefetch" href="/assets/JavaScript.html-MZQM9lfK.js" as="script"><link rel="prefetch" href="/assets/index.html-0kHDdq3i.js" as="script"><link rel="prefetch" href="/assets/基础知识.html-90en46Tb.js" as="script"><link rel="prefetch" href="/assets/官网博客案例实现.html-P1WhUFlf.js" as="script"><link rel="prefetch" href="/assets/index.html-rC-SSE0e.js" as="script"><link rel="prefetch" href="/assets/React-Native.html-CQSXmOVm.js" as="script"><link rel="prefetch" href="/assets/React-Native总结.html-fBuivuii.js" as="script"><link rel="prefetch" href="/assets/404.html-Bhk7fqpe.js" as="script"><link rel="prefetch" href="/assets/index.html-xCjfZPOb.js" as="script"><link rel="prefetch" href="/assets/index.html-ndTBdvhE.js" as="script"><link rel="prefetch" href="/assets/index.html-NKgeYzzk.js" as="script"><link rel="prefetch" href="/assets/index.html-kJ_mzdwq.js" as="script"><link rel="prefetch" href="/assets/index.html-0V2Uf6N7.js" as="script"><link rel="prefetch" href="/assets/index.html-Qeip9r1Q.js" as="script"><link rel="prefetch" href="/assets/index.html-khQvBl0D.js" as="script"><link rel="prefetch" href="/assets/index.html-MIe2qyP5.js" as="script"><link rel="prefetch" href="/assets/index.html-GDvfY9zF.js" as="script"><link rel="prefetch" href="/assets/index.html-ALGp_ZXb.js" as="script"><link rel="prefetch" href="/assets/index.html-L6Qh14De.js" as="script"><link rel="prefetch" href="/assets/index.html-UFVdtOMt.js" as="script"><link rel="prefetch" href="/assets/index.html-zKZ4kZU7.js" as="script"><link rel="prefetch" href="/assets/index.html-sjZb0qBd.js" as="script"><link rel="prefetch" href="/assets/index.html-cuQi_0i9.js" as="script"><link rel="prefetch" href="/assets/index.html-glKizuJ4.js" as="script"><link rel="prefetch" href="/assets/index.html-xv5kgB_A.js" as="script"><link rel="prefetch" href="/assets/index.html-NFSUEZSY.js" as="script"><link rel="prefetch" href="/assets/index.html-VkQl2ghN.js" as="script"><link rel="prefetch" href="/assets/index.html-TmA5n423.js" as="script"><link rel="prefetch" href="/assets/index.html--l46iRKc.js" as="script"><link rel="prefetch" href="/assets/index.html-7eaByDzd.js" as="script"><link rel="prefetch" href="/assets/index.html-EicEIvPu.js" as="script"><link rel="prefetch" href="/assets/index.html-NvMhNYea.js" as="script"><link rel="prefetch" href="/assets/index.html-PYShnxt0.js" as="script"><link rel="prefetch" href="/assets/index.html-u21qqcWV.js" as="script"><link rel="prefetch" href="/assets/index.html-LSlWPPcy.js" as="script"><link rel="prefetch" href="/assets/index.html-kd0QbaXw.js" as="script"><link rel="prefetch" href="/assets/index.html-fkx5Klpx.js" as="script"><link rel="prefetch" href="/assets/index.html-BJI2lW-i.js" as="script"><link rel="prefetch" href="/assets/index.html-0KyMP88-.js" as="script"><link rel="prefetch" href="/assets/index.html-Jl7wEslZ.js" as="script"><link rel="prefetch" href="/assets/index.html-9wGrp-98.js" as="script"><link rel="prefetch" href="/assets/index.html-lpPUktof.js" as="script"><link rel="prefetch" href="/assets/index.html-9Vt1uwV-.js" as="script"><link rel="prefetch" href="/assets/index.html-aLTevkNc.js" as="script"><link rel="prefetch" href="/assets/index.html-tnQAfVUy.js" as="script"><link rel="prefetch" href="/assets/index.html-U03J7cpF.js" as="script"><link rel="prefetch" href="/assets/index.html-6AkDgaOY.js" as="script"><link rel="prefetch" href="/assets/index.html-wDmpN7lH.js" as="script"><link rel="prefetch" href="/assets/index.html-Sk-1ojRX.js" as="script"><link rel="prefetch" href="/assets/index.html-ylkgMQRU.js" as="script"><link rel="prefetch" href="/assets/index.html-Vb77ckxS.js" as="script"><link rel="prefetch" href="/assets/index.html-vHPq9Pwk.js" as="script"><link rel="prefetch" href="/assets/index.html-GSXqyz23.js" as="script"><link rel="prefetch" href="/assets/index.html-JoZZvLbl.js" as="script"><link rel="prefetch" href="/assets/index.html-8lC7DfZW.js" as="script"><link rel="prefetch" href="/assets/index.html-GECtCocq.js" as="script"><link rel="prefetch" href="/assets/index.html-YclbeFcC.js" as="script"><link rel="prefetch" href="/assets/index.html-dInorwpd.js" as="script"><link rel="prefetch" href="/assets/index.html-cLWbJ2k7.js" as="script"><link rel="prefetch" href="/assets/index.html-VCBky7Xo.js" as="script"><link rel="prefetch" href="/assets/index.html-SXW1Qp54.js" as="script"><link rel="prefetch" href="/assets/index.html-p8tMdwjp.js" as="script"><link rel="prefetch" href="/assets/index.html-Drfiu3VM.js" as="script"><link rel="prefetch" href="/assets/index.html-JjNeBdML.js" as="script"><link rel="prefetch" href="/assets/index.html-q62Q3AoW.js" as="script"><link rel="prefetch" href="/assets/index.html-Xp_SXESU.js" as="script"><link rel="prefetch" href="/assets/index.html-XBINshen.js" as="script"><link rel="prefetch" href="/assets/index.html-AvzipzdF.js" as="script"><link rel="prefetch" href="/assets/index.html-n7k-Ln5M.js" as="script"><link rel="prefetch" href="/assets/index.html-C27A9CYO.js" as="script"><link rel="prefetch" href="/assets/index.html-72ltHBEu.js" as="script"><link rel="prefetch" href="/assets/index.html-0c7jV1T_.js" as="script"><link rel="prefetch" href="/assets/index.html-hk4kIqpF.js" as="script"><link rel="prefetch" href="/assets/index.html-L9oSWWMQ.js" as="script"><link rel="prefetch" href="/assets/index.html-J45EFySe.js" as="script"><link rel="prefetch" href="/assets/index.html-wVufPiQ1.js" as="script"><link rel="prefetch" href="/assets/index.html-qHZ__qxM.js" as="script"><link rel="prefetch" href="/assets/index.html-sD-Xw6Ro.js" as="script"><link rel="prefetch" href="/assets/index.html-94-pEQ3Z.js" as="script"><link rel="prefetch" href="/assets/index.html-n3HbKSFx.js" as="script"><link rel="prefetch" href="/assets/index.html-oE96MNFT.js" as="script"><link rel="prefetch" href="/assets/index.html-wy_EE8aj.js" as="script"><link rel="prefetch" href="/assets/index.html-T6mtzMy4.js" as="script"><link rel="prefetch" href="/assets/index.html-7KrMa3Sb.js" as="script"><link rel="prefetch" href="/assets/index.html-TwEb23aT.js" as="script"><link rel="prefetch" href="/assets/index.html-JJ_0dY-c.js" as="script"><link rel="prefetch" href="/assets/index.html-4uenaAZK.js" as="script"><link rel="prefetch" href="/assets/index.html-N4jAM61G.js" as="script"><link rel="prefetch" href="/assets/index.html-k8GNebO4.js" as="script"><link rel="prefetch" href="/assets/index.html-dBNyu2rp.js" as="script"><link rel="prefetch" href="/assets/index.html-fmf0CluM.js" as="script"><link rel="prefetch" href="/assets/index.html-_fofQ0xO.js" as="script"><link rel="prefetch" href="/assets/index.html-SS3K1Fc0.js" as="script"><link rel="prefetch" href="/assets/index.html-LU0mhWtl.js" as="script"><link rel="prefetch" href="/assets/index.html-jqCeu9Ee.js" as="script"><link rel="prefetch" href="/assets/index.html-_WO5nVMe.js" as="script"><link rel="prefetch" href="/assets/index.html-DIzVf0uq.js" as="script"><link rel="prefetch" href="/assets/index.html-jMZka1jo.js" as="script"><link rel="prefetch" href="/assets/index.html-US89qAlW.js" as="script"><link rel="prefetch" href="/assets/index.html-wno0eNTX.js" as="script"><link rel="prefetch" href="/assets/index.html-oYo1tPZz.js" as="script"><link rel="prefetch" href="/assets/index.html-lJFlusTK.js" as="script"><link rel="prefetch" href="/assets/index.html-0ufh-6Jw.js" as="script"><link rel="prefetch" href="/assets/index.html-H5EkFhUM.js" as="script"><link rel="prefetch" href="/assets/index.html-Nnd1H6l6.js" as="script"><link rel="prefetch" href="/assets/index.html-Z_T28T3Z.js" as="script"><link rel="prefetch" href="/assets/index.html-7ElqMOlX.js" as="script"><link rel="prefetch" href="/assets/index.html-wwXG4K1A.js" as="script"><link rel="prefetch" href="/assets/index.html-szF5fOZf.js" as="script"><link rel="prefetch" href="/assets/index.html-848Y5jtC.js" as="script"><link rel="prefetch" href="/assets/index.html-7032sdIN.js" as="script"><link rel="prefetch" href="/assets/index.html-sMjP02Ja.js" as="script"><link rel="prefetch" href="/assets/index.html-7XWw_H8D.js" as="script"><link rel="prefetch" href="/assets/index.html-yQaTKshv.js" as="script"><link rel="prefetch" href="/assets/index.html-KJBatbyH.js" as="script"><link rel="prefetch" href="/assets/index.html-twjz6uE8.js" as="script"><link rel="prefetch" href="/assets/index.html-TeI-Im2-.js" as="script"><link rel="prefetch" href="/assets/index.html-RQW-QnAp.js" as="script"><link rel="prefetch" href="/assets/index.html-aERZXKGb.js" as="script"><link rel="prefetch" href="/assets/index.html-Co70Y5vW.js" as="script"><link rel="prefetch" href="/assets/index.html-TfDz_ARV.js" as="script"><link rel="prefetch" href="/assets/index.html--zxcQ5aB.js" as="script"><link rel="prefetch" href="/assets/index.html-1U6Z2dan.js" as="script"><link rel="prefetch" href="/assets/index.html-yrdZT5S9.js" as="script"><link rel="prefetch" href="/assets/index.html-8HkegjkL.js" as="script"><link rel="prefetch" href="/assets/index.html-XKq8bAnN.js" as="script"><link rel="prefetch" href="/assets/index.html-ZQC3SveL.js" as="script"><link rel="prefetch" href="/assets/index.html-hiNz5L-m.js" as="script"><link rel="prefetch" href="/assets/index.html-ETfvJmUb.js" as="script"><link rel="prefetch" href="/assets/index.html-E-xdDNnG.js" as="script"><link rel="prefetch" href="/assets/index.html-86dMZPGn.js" as="script"><link rel="prefetch" href="/assets/index.html-qFwWKTHV.js" as="script"><link rel="prefetch" href="/assets/index.html-x_P6tVs3.js" as="script"><link rel="prefetch" href="/assets/index.html-jIrZ9FWs.js" as="script"><link rel="prefetch" href="/assets/index.html-RxKSEn4M.js" as="script"><link rel="prefetch" href="/assets/index.html-J8r--DX3.js" as="script"><link rel="prefetch" href="/assets/index.html-QPYukOep.js" as="script"><link rel="prefetch" href="/assets/index.html-Nm21RsPj.js" as="script"><link rel="prefetch" href="/assets/index.html-Pwvffj8Q.js" as="script"><link rel="prefetch" href="/assets/index.html-Ba-AEYwx.js" as="script"><link rel="prefetch" href="/assets/index.html-RSFoNsVB.js" as="script"><link rel="prefetch" href="/assets/index.html-PurEGPz-.js" as="script"><link rel="prefetch" href="/assets/index.html-on2Vym4s.js" as="script"><link rel="prefetch" href="/assets/index.html-0aziqL-l.js" as="script"><link rel="prefetch" href="/assets/index.html-FQmBrRWz.js" as="script"><link rel="prefetch" href="/assets/index.html-42IsyVSV.js" as="script"><link rel="prefetch" href="/assets/index.html-4RZ6Oze7.js" as="script"><link rel="prefetch" href="/assets/index.html-zpOS2Vpn.js" as="script"><link rel="prefetch" href="/assets/index.html-u-ddZWAX.js" as="script"><link rel="prefetch" href="/assets/index.html-Ck8PTj4x.js" as="script"><link rel="prefetch" href="/assets/index.html-CMmWn40e.js" as="script"><link rel="prefetch" href="/assets/index.html-Ntp_LYNt.js" as="script"><link rel="prefetch" href="/assets/index.html-C1pXaN-y.js" as="script"><link rel="prefetch" href="/assets/index.html-BzlmZDJP.js" as="script"><link rel="prefetch" href="/assets/index.html-Qtrwf05X.js" as="script"><link rel="prefetch" href="/assets/index.html-RcuoZU2b.js" as="script"><link rel="prefetch" href="/assets/index.html-15BUT-QJ.js" as="script"><link rel="prefetch" href="/assets/index.html-af5aRs0o.js" as="script"><link rel="prefetch" href="/assets/index.html-WKymsL-q.js" as="script"><link rel="prefetch" href="/assets/index.html-dIayuWOK.js" as="script"><link rel="prefetch" href="/assets/index.html-zIDVnJ0T.js" as="script"><link rel="prefetch" href="/assets/index.html-Khvlhszy.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-i2ohwMnJ.js" as="script"><link rel="prefetch" href="/assets/SearchResult-atO-3iAk.js" as="script"><link rel="prefetch" href="/assets/DemoVirtualScrollList-lNAF9rjr.js" as="script"><link rel="prefetch" href="/assets/DemoVirtualScrollListItem-zFGHDahC.js" as="script"><link rel="prefetch" href="/assets/TableTest-s41RuXe2.js" as="script"><link rel="prefetch" href="/assets/index-1Va03BKR.js" as="script"><link rel="prefetch" href="/assets/index-yEKiYVU-.js" as="script"><link rel="prefetch" href="/assets/index--w474g1A.js" as="script"><link rel="prefetch" href="/assets/index-1G13PkDq.js" as="script"><link rel="prefetch" href="/assets/index-OXRLS-gn.js" as="script"><link rel="prefetch" href="/assets/index-LqaA_-R6.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><img class="vp-nav-logo" src="/logo.png" alt="Mr Chen&#39;s Blog"><!----><span class="vp-site-name hide-in-pad">Mr Chen&#39;s Blog</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="首页" class="vp-link nav-link nav-link" href="/"><span class="font-icon icon iconfont icon-home" style=""></span>首页<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="前端开发" class="vp-link nav-link active nav-link active" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/"><span class="font-icon icon iconfont icon-html" style=""></span>前端开发<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="后端开发" class="vp-link nav-link nav-link" href="/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/"><span class="font-icon icon iconfont icon-be" style=""></span>后端开发<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="基础知识" class="vp-link nav-link nav-link" href="/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"><span class="font-icon icon iconfont icon-study" style=""></span>基础知识<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="开发日志" class="vp-link nav-link nav-link" href="/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/"><span class="font-icon icon iconfont icon-biji" style=""></span>开发日志<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="杂七杂八" class="vp-link nav-link nav-link" href="/%E6%9D%82%E4%B8%83%E6%9D%82%E5%85%AB/"><span class="font-icon icon iconfont icon-note" style=""></span>杂七杂八<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="收藏"><span class="title"><span class="font-icon icon iconfont icon-a-shoucang-yishoucang" style=""></span>收藏</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="书签" class="vp-link nav-link nav-link" href="/%E6%94%B6%E8%97%8F/%E4%B9%A6%E7%AD%BE.html"><span class="font-icon icon iconfont icon-shuqian" style=""></span>书签<!----></a></li><li class="dropdown-item"><a href="https://magicbegin.gitee.io/moo-music/#/" rel="noopener noreferrer" target="_blank" aria-label="音乐" class="nav-link"><span class="font-icon icon iconfont icon-yinle" style=""></span>音乐<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a aria-label="时间轴" class="vp-link nav-link nav-link" href="/timeline.html"><span class="font-icon icon iconfont icon-shijianzhou" style=""></span>时间轴<!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><!----><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">搜索</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-zhishiku" style=""></span><span class="vp-sidebar-title">代码规范</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-shipinmianshi" style=""></span><span class="vp-sidebar-title">面经指南</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-gongju" style=""></span><span class="vp-sidebar-title">前端工程化</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-shouji" style=""></span><span class="vp-sidebar-title">前端基石</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-study" style=""></span><span class="vp-sidebar-title">前端进阶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-zongjie" style=""></span><span class="vp-sidebar-title">前端框架</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-harmonyOS" style=""></span><span class="vp-sidebar-title">HarmonyOS</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-react" style=""></span><span class="vp-sidebar-title">React</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="react学习路线" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/react%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF.html"><!---->react学习路线<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="React总结" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/React%E6%80%BB%E7%BB%93.html"><!---->React总结<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="React" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/React.html"><!---->React<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="JSX核心语法" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/JSX%E6%A0%B8%E5%BF%83%E8%AF%AD%E6%B3%95.html"><span class="font-icon icon iconfont icon-jsx-" style=""></span>JSX核心语法<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-vercel" style=""></span><a aria-label="Next.js" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/Next.js/"><!---->Next.js<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><!--[--><a aria-label="React的过渡动画" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/React%E7%9A%84%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB.html"><span class="font-icon icon iconfont icon-donghua" style=""></span>React的过渡动画<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="React与TypeScript" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/React%E4%B8%8ETypeScript.html"><span class="font-icon icon iconfont icon-typescript" style=""></span>React与TypeScript<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="React中的CSS" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/React%E4%B8%AD%E7%9A%84CSS.html"><span class="font-icon icon iconfont icon-css" style=""></span>React中的CSS<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="React中axios" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/React%E4%B8%ADaxios.html"><span class="font-icon icon iconfont icon-wangluo" style=""></span>React中axios<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="React组件化开发" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/React%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91.html"><span class="font-icon icon iconfont icon-zujian" style=""></span>React组件化开发<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="React Hook" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html"><span class="font-icon icon iconfont icon-hook" style=""></span>React Hook<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Class 组件存在的问题" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#class-组件存在的问题"><!---->Class 组件存在的问题<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="为什么需要 Hook？" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#为什么需要-hook"><!---->为什么需要 Hook？<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Hook 的出现" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#hook-的出现"><!---->Hook 的出现<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Hook 规则" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#hook-规则"><!---->Hook 规则<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="useState" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#usestate"><!---->useState<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="函数式更新" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#函数式更新"><!---->函数式更新<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="useEffect" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#useeffect"><!---->useEffect<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="需要清除 Effect" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#需要清除-effect"><!---->需要清除 Effect<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="使用多个 Effect" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#使用多个-effect"><!---->使用多个 Effect<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Effect 性能优化" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#effect-性能优化"><!---->Effect 性能优化<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="useContext" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#usecontext"><!---->useContext<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="useReducer" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#usereducer"><!---->useReducer<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="useCallback" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#usecallback"><!---->useCallback<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="useMemo" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#usememo"><!---->useMemo<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="使用场景" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#使用场景"><!---->使用场景<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="useRef" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#useref"><!---->useRef<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="useImperativeHandle" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#useimperativehandle"><!---->useImperativeHandle<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="useLayoutEffect" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#uselayouteffect"><!---->useLayoutEffect<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="自定义 Hook" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#自定义-hook"><!---->自定义 Hook<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="案例 1:所有的组件在创建和销毁时都进行打印" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#案例-1-所有的组件在创建和销毁时都进行打印"><!---->案例 1:所有的组件在创建和销毁时都进行打印<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="案例 2:Context 的共享" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#案例-2-context-的共享"><!---->案例 2:Context 的共享<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="案例 2:获取滚动位置" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#案例-2-获取滚动位置"><!---->案例 2:获取滚动位置<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="案例 3：localStorage 存储" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#案例-3-localstorage-存储"><!---->案例 3：localStorage 存储<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="redux hooks" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactHook.html#redux-hooks"><!---->redux hooks<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a aria-label="ReactRouter" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactRouter.html"><span class="font-icon icon iconfont icon-luyou" style=""></span>ReactRouter<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="Redux" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/Redux.html"><span class="font-icon icon iconfont icon-redux" style=""></span>Redux<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-vue" style=""></span><span class="vp-sidebar-title">Vue</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-study" style=""></span><span class="vp-sidebar-title">前端图形</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-zhishiku" style=""></span><span class="vp-sidebar-title">转载</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon iconfont icon-hook" style=""></span>React Hook</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="/logo.png" target="_blank" rel="noopener noreferrer">Mr.Chen</a></span><span property="author" content="Mr.Chen"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-12-09T06:32:03.000Z"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category5 clickable" role="navigation">前端框架</span><span class="page-category-item category0 clickable" role="navigation">React</span><!--]--><meta property="articleSection" content="前端框架,React"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 14 分钟</span><meta property="timeRequired" content="PT14M"></span><span class="page-word-info" aria-label="字数🔠" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon word-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="word icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 01603.43 1.097a512 512 0 01419.474 419.474 73.143 73.143 0 01-72.046 85.212H591.36a73.143 73.143 0 01-73.143-73.143z"></path><path d="M493.714 566.857h340.297a73.143 73.143 0 0173.143 85.577A457.143 457.143 0 11371.566 117.76a73.143 73.143 0 0185.577 73.143v339.383a36.571 36.571 0 0036.571 36.571z"></path></svg><span>约 4286 字</span><meta property="wordCount" content="4286"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#class-组件存在的问题">Class 组件存在的问题</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#为什么需要-hook">为什么需要 Hook？</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#hook-的出现">Hook 的出现</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#hook-规则">Hook 规则</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#usestate">useState</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#函数式更新">函数式更新</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#useeffect">useEffect</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#需要清除-effect">需要清除 Effect</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#使用多个-effect">使用多个 Effect</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#effect-性能优化">Effect 性能优化</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#usecontext">useContext</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#usereducer">useReducer</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#usecallback">useCallback</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#usememo">useMemo</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#使用场景">使用场景</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#useref">useRef</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#useimperativehandle">useImperativeHandle</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#uselayouteffect">useLayoutEffect</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#自定义-hook">自定义 Hook</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#案例-1-所有的组件在创建和销毁时都进行打印">案例 1:所有的组件在创建和销毁时都进行打印</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#案例-2-context-的共享">案例 2:Context 的共享</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#案例-2-获取滚动位置">案例 2:获取滚动位置</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#案例-3-localstorage-存储">案例 3：localStorage 存储</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#redux-hooks">redux hooks</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><p>// TODO 待修改</p><h2 id="class-组件存在的问题" tabindex="-1"><a class="header-anchor" href="#class-组件存在的问题" aria-hidden="true">#</a> Class 组件存在的问题</h2><ol><li><p>复杂组件变得难以理解：</p><p>我们在最初编写一个 <code>class</code> 组件时，往往逻辑比较简单，并不会非常复杂。但是随着业务的增多，我们的 class 组件会变得越来越复杂</p><p>比如 componentDidMount 中，可能就会包含大量的逻辑代码：包括网络请求、一些事件的监听（还需要在 componentWillUnmount 中移除）</p><p>而对于这样的 class 实际上非常难以拆分：因为它们的逻辑往往混在一起，强行拆分反而会造成过度设计，增加代码的复杂度</p></li><li><p>难以理解的 class：</p><p>很多人发现学习 ES6 的 class 是学习 React 的一个障碍</p><p>比如在 class 中，我们必须搞清楚 this 的指向到底是谁</p></li><li><p><a href="https://blog.csdn.net/w_D_lufei/article/details/104091014" target="_blank" rel="noopener noreferrer">实现组件状态逻辑复用<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>很难:</p><p>在前面为了组件状态逻辑复用我们需要通过高阶组件或 render props(<strong>🔎 详情见 react 组件化</strong>)</p><p>像我们之前学习的 redux 中 connect 或者 react-router 中的 withRouter，这些高阶组件设计的目的就是为了状态的复用</p><p>或者类似于 Provider、Consumer 来共享一些状态，但是多次使用 Consumer 时，我们的代码就会存在很多嵌套</p><p><strong>这些代码让我们不管是编写和设计上来说，都变得非常困难</strong></p></li></ol><h2 id="为什么需要-hook" tabindex="-1"><a class="header-anchor" href="#为什么需要-hook" aria-hidden="true">#</a> 为什么需要 Hook？</h2><p>Hook 是 React 16.8 的新增特性，它可以让我们在不编写 class 的情况下使用 state 以及其他的 React 特性（比如生命周期）</p><p>我们先来思考一下 class 组件相对于函数式组件有什么优势？比较常见的是下面的优势：</p><ul><li><p>class 组件可以定义自己的 state，用来保存组件自己内部的状态；函数式组件不可以，因为函数每次调用都会产生新的临时变量；</p></li><li><p>class 组件有自己的生命周期，我们可以在对应的生命周期中完成自己的逻辑；比如在 componentDidMount 中发送网络请求，并且该生命周期函数只会执行一次；函数式组件在学习 hooks 之前，如果在函数中发送网络请求，意味着每次重新渲染都会重新发送一次网络请求；</p></li><li><p>class 组件可以在状态改变时只会重新执行 render 函数以及我们希望重新调用的生命周期函数 componentDidUpdate 等函数式组件在重新渲染时，整个函数都会被执行，似乎没有什么地方可以只让它们调用一次；</p></li></ul><p>所以，在 Hook 出现之前，对于上面这些情况我们通常都会编写 class 组件</p><h2 id="hook-的出现" tabindex="-1"><a class="header-anchor" href="#hook-的出现" aria-hidden="true">#</a> Hook 的出现</h2><p>Hook 可以让我们在不编写 class 的情况下使用 state 以及其他的 React 特性</p><p>Hook 的出现基本可以代替我们之前所有使用 class 组件的地方（除了一些非常不常用的场景）</p><h2 id="hook-规则" tabindex="-1"><a class="header-anchor" href="#hook-规则" aria-hidden="true">#</a> Hook 规则</h2><ol><li><p>只在最顶层使用 Hook。<strong>不要在循环，条件或嵌套函数中调用 Hook，</strong> 确保总是在你的 React 函数的最顶层以及任何 return 之前调用他们</p></li><li><p>只在 React 函数（函数组件，自定义 Hook）中调用 Hook，<strong>不要在普通的 JavaScript 函数中调用 Hook</strong></p></li></ol><h2 id="usestate" tabindex="-1"><a class="header-anchor" href="#usestate" aria-hidden="true">#</a> useState</h2><p><code>useState</code> 来自 <code>react</code>，需要从 <code>react </code>中导入，它是一个 <code>hook</code></p><ul><li>参数：初始化值</li><li>返回值：数组，包含两个元素 <ul><li>元素一：当前状态的值（第一调用为初始化值）</li><li>元素二：设置状态值的函数</li></ul></li></ul><p><code>useState</code>会帮助我们定义一个 <code>state</code> 变量，<code>useState</code> 是一种新方法，它与 <code>class</code> 里面的 <code>this.state</code> 提供的功能完全相同。一般来说，在函数退出后变量就会“消失”，而 <code>state</code> 中的变量会被 <code>React</code> 保留</p><p><code>useState</code> 接受唯一一个参数，在第一次组件被调用时使用来作为初始化值</p><p><code>useState</code> 是一个数组，我们可以通过数组的解构，来完成赋值会非常方便</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>friends<span class="token punctuation">,</span> setFriends<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;frank&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zhang&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token keyword">function</span> <span class="token function">addAge</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> newFriends <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>friends<span class="token punctuation">]</span>
    newFriends<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>age <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token function">setFriends</span><span class="token punctuation">(</span>newFriends<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>friends<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
              </span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token plain-text">,</span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token plain-text">,
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
                <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                  <span class="token function">addAge</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
              <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                age+1
              </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
          <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数式更新" tabindex="-1"><a class="header-anchor" href="#函数式更新" aria-hidden="true">#</a> 函数式更新</h3><p>如果新的 <code>state</code> 需要通过使用先前的 <code>state</code>计算得出，那么可以将函数传递给 <code>setState</code>。该函数将接收先前的 <code>state</code>，并返回一个更新后的值。下面的计数器组件示例展示了 <code>setState</code> 的两种用法：</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">Counter</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> initialCount <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>initialCount<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      Count: </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>initialCount<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Reset</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevCount</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prevCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">-</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevCount</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prevCount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="useeffect" tabindex="-1"><a class="header-anchor" href="#useeffect" aria-hidden="true">#</a> useEffect</h2><p>useEffect 要求我们传入一个回调函数，默认情况下，无论是第一次渲染之后，还是每次 DOM 更新之后，都会执行这个回调函数</p><p><code>useEffect </code>可以看作是 componentDidMount,componentDidUpdate , componentWillUnmount 这三个函数的组合</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 网页标题和count同步</span>
    <span class="token comment">// 如果采用class组件实现相同的功能</span>
    <span class="token comment">// 需要在componentDidMount,componentDidUpdate 两个生命周期函数中，</span>
    <span class="token comment">// 编写相同的逻辑代码</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> count
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prevCount</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> prevCount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        +1
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="需要清除-effect" tabindex="-1"><a class="header-anchor" href="#需要清除-effect" aria-hidden="true">#</a> 需要清除 Effect</h3><p>在 class 组件的编写过程中，某些副作用的代码，我们需要 componentWillUnmount 中进行清除，比如我们之前的事件总线或 Redux 中手动调用 subscribe，都需要在 componentWillUnmount 有对应的取消订阅</p><p>useEffect 传入的回调函数 A 本身可以有一个返回值，这个返回值是另外一个回调函数 B，如此可以将添加和移除订阅的逻辑放在一起。React 会在组件更新和卸载的时候执行清除操作</p><p>::: tip react 中文文档此处翻译会让人产生误解</p><p>When exactly(究竟) does React clean up an effect? React performs(执行) the cleanup when the component unmounts. However, as we learned earlier, effects run for every render and not just once. This is why React <strong>also</strong> cleans up effects from the previous render before running the effects next time.</p><p><strong>summary</strong> :react performs the cleanup when the componrnt unmount and update</p><p>:::</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ,....</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// cleanup</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用多个-effect" tabindex="-1"><a class="header-anchor" href="#使用多个-effect" aria-hidden="true">#</a> 使用多个 Effect</h3><p>Hook 允许我们按照代码的用途分离它们， 而不是像生命周期函数那样,React 将按照 effect 声明的顺序依次调用组件中的每一个 effect</p><h3 id="effect-性能优化" tabindex="-1"><a class="header-anchor" href="#effect-性能优化" aria-hidden="true">#</a> Effect 性能优化</h3><p>默认情况下，useEffect 的回调函数会在每次渲染时都重新执行，但是这会导致两个问题</p><p>某些代码我们只是希望执行一次即可，类似于 componentDidMount 和 componentWillUnmount 中完成的事情（比如网 络请求、订阅和取消订阅）</p><p>另外，多次执行也会导致一定的性能问题</p><p>我们如何决定 useEffect 在什么时候应该执行和什么时候不应该执行呢？</p><p>useEffect 实际上有两个参数：</p><ul><li>参数一：执行的回调函数</li><li>参数二：一个数组;其中存放的元素发生变化时，effect 会重新执行；如果数组中有多个元素，即使只有一个元素发生变化，React 也会执行 effect。</li></ul><p>如果你要使用此优化方式，请确保数组中包含了<strong>所有外部作用域中会随时间变化并且在 effect 中使用的变量</strong>（同时满足这两个条件），否则你的代码会引用到先前渲染中的旧变量，如下面的代码所示：</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>login<span class="token punctuation">,</span> setLogin<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">count增加了</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>login<span class="token punctuation">)</span> <span class="token comment">//  看这里 输出有问题</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第二个effect&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>login<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setLogin</span><span class="token punctuation">(</span><span class="token operator">!</span>login<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token punctuation">{</span>login <span class="token operator">?</span> <span class="token string">&#39;已登陆&#39;</span> <span class="token operator">:</span> <span class="token string">&#39;未登录&#39;</span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果想执行只运行一次的 effect（仅在组件挂载和卸载时执行），可以传递一个空数组（<code>[]</code>）作为第二个参数。这就告诉 React 你的 effect 不依赖于 props 或 state 中的任何值，所以它永远都不需要重复执行</p><h2 id="usecontext" tabindex="-1"><a class="header-anchor" href="#usecontext" aria-hidden="true">#</a> useContext</h2><p>在之前的开发中，我们要在组件中使用共享的 Context 有两种方式：</p><ul><li>类组件可以通过 类名.contextType = MyContext 方式，在类中获取 context</li><li>多个 Context 或者在函数式组件中通过 MyContext.Consumer 方式共享 context；</li></ul><p>但是多个 Context 共享时的方式会存在大量的嵌套</p><p>Context Hook 允许我们通过 Hook 来直接获取某个 Context 的值:</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> useContext<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">const</span> MyContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> MyContext2 <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//  useContext 的参数必须是 context 对象本身</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>MyContext<span class="token punctuation">)</span>
  <span class="token keyword">const</span> user2 <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>MyContext2<span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> user2<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token plain-text">,</span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;frank&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyContext.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyContext2.Provider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;frank123&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">User</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
          </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MyContext2.Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MyContext.Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="usereducer" tabindex="-1"><a class="header-anchor" href="#usereducer" aria-hidden="true">#</a> useReducer</h2><p>useReducer 仅仅是 useState 的一种替代方案：</p><ul><li>在某些场景下，如果 state 的处理逻辑比较复杂，我们可以通过 useReducer 来对其进行拆分</li><li>或者这次修改的 state 需要依赖之前的 state 时，也可以使用</li></ul><p>不同组件之间数据是不会共享的，它们只是使用了相同的 counterReducer 的函数而已；所以，useReducer 只是 useState 的一种替代品，并不能替代 Redux</p><h2 id="usecallback" tabindex="-1"><a class="header-anchor" href="#usecallback" aria-hidden="true">#</a> useCallback</h2><p>useCallback 实际的目的是为了进行性能的优化。</p><p>如何进行性能的优化呢？</p><ul><li>useCallback 会返回一个函数的 memoized（记忆的） 值</li><li>在依赖不变的情况下，多次定义的时候，返回的值是相同的</li></ul><p>通常使用 useCallback 的目的是不希望子组件进行多次渲染，并不是为了函数进行缓存</p><ol><li>使用 useCallback 定义一个函数<strong>不会</strong>带来性能的优化</li></ol><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useCallback <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;app渲染了！&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">add1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;执行add---1&#39;</span><span class="token punctuation">)</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//重新渲染，依然存在函数创建的过程</span>
  <span class="token keyword">const</span> add2 <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;执行add---2&#39;</span><span class="token punctuation">)</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">add1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        add1
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">add2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        add2
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>使用 useCallback 定义一个函数传递给子组件<strong>会</strong>带来性能的优化</li></ol><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> memo<span class="token punctuation">,</span> useCallback <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">const</span> MemoButton <span class="token operator">=</span> <span class="token function">memo</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">Abutton</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Abutton已渲染,,,&#39;</span> <span class="token operator">+</span> props<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>add<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">add1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;app渲染了！&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>login<span class="token punctuation">,</span> setLogin<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">add1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;执行add---1&#39;</span><span class="token punctuation">)</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> add2 <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;执行add---2&#39;</span><span class="token punctuation">)</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MemoButton</span></span> <span class="token attr-name">title</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&#39;add1&#39;</span><span class="token punctuation">}</span></span> <span class="token attr-name">add</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>add1<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      // count不发生变化，每次传入的add函数都是同一个，加上memo带来了性能优化
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MemoButton</span></span> <span class="token attr-name">title</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token string">&#39;add2&#39;</span><span class="token punctuation">}</span></span> <span class="token attr-name">add</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>add2<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">setLogin</span><span class="token punctuation">(</span><span class="token operator">!</span>login<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        切换
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="usememo" tabindex="-1"><a class="header-anchor" href="#usememo" aria-hidden="true">#</a> useMemo</h2><p>::: tip</p><p>useMemo 和 useCallBack 的区别是 useMemo 是基于函数的返回值进行优化，返回值可以是对象，一个值，一个函数；useCallBack 则只能基于函数进行优化</p><p>:::</p><p>useMemo 实际的目的也是为了进行性能的优化</p><p>如何进行性能的优化呢？</p><ul><li><p>useMemo 返回的也是一个 memoized（记忆的） 值</p></li><li><p>在依赖不变的情况下，多次定义的时候，返回的值是相同的</p></li></ul><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">const</span> memoizedValue <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">computeExpensiveValue</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="使用场景" tabindex="-1"><a class="header-anchor" href="#使用场景" aria-hidden="true">#</a> 使用场景</h3><p>进行大量的计算操作，是否有必须要每次渲染时都重新计算</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useMemo<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">function</span> <span class="token function">bigNum</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">bigNum重新计算</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    total <span class="token operator">+=</span> i
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> total
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>login<span class="token punctuation">,</span> setLogin<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> total <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">bigNum</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>total<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        +
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">setLogin</span><span class="token punctuation">(</span><span class="token operator">!</span>login<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        切换
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="useref" tabindex="-1"><a class="header-anchor" href="#useref" aria-hidden="true">#</a> useRef</h2><p><code>useRef</code> 返回一个<code> ref</code> 对象，返回的<code>ref</code>对象在组件的整个生命周期保持不变</p><p>最常用的 <code>ref</code> 是两种用法：</p><ul><li>用法一：引入<code> DOM</code>（或者组件，但是需要是 <code>class</code> 组件）元素</li><li>用法二：保存一个数据，这个对象在整个生命周期中可以保存不变</li></ul><p>案例：</p><ul><li>案例一：引用 <code>DOM</code></li></ul><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> titleRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">changeDOM</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    titleRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&#39;hello,sb&#39;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>titleRef<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">hello,html!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>changeDOM<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">changeDOM</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>案例二：使用 ref 保存上一次的某一个值</li></ul><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useRef<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> numRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    numRef<span class="token punctuation">.</span>current <span class="token operator">=</span> count
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setCount</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">上一次的值：</span><span class="token punctuation">{</span>numRef<span class="token punctuation">.</span>current<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">这一次的值：</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>add<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+10</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="useimperativehandle" tabindex="-1"><a class="header-anchor" href="#useimperativehandle" aria-hidden="true">#</a> useImperativeHandle</h2><p>通过 forwardRef 可以将 ref 转发到子组件,子组件拿到父组件中创建的 ref，绑定到自己的某一个元素中</p><p>forwardRef 的做法本身没有什么问题，但是我们是将子组件的 DOM 直接暴露给了父组件：</p><ul><li><p>直接暴露给父组件带来的问题是某些情况的不可控</p></li><li><p>父组件可以拿到 DOM 后进行任意的操作</p></li></ul><p>通过 useImperativeHandle 可以值暴露固定的操作：</p><ul><li>通过 useImperativeHandle，将传入的 ref 和 useImperativeHandle 第二个参数返回的对象绑定到了一起</li><li>所以在父组件中，使用 inputRef.current 时，实际上使用的是返回的对象</li></ul><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> forwardRef<span class="token punctuation">,</span> useImperativeHandle<span class="token punctuation">,</span> useRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">const</span> Input <span class="token operator">=</span> <span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> ref</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">useImperativeHandle</span><span class="token punctuation">(</span>ref<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token function-variable function">focus</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      inputRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> TitleRef <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">ChangeDOM</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    TitleRef<span class="token punctuation">.</span>current<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>TitleRef<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token attr-name">ref</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>TitleRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>ChangeDOM<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">changeDOM</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="uselayouteffect" tabindex="-1"><a class="header-anchor" href="#uselayouteffect" aria-hidden="true">#</a> useLayoutEffect</h2><p><a href="https://zh-hans.reactjs.org/docs/hooks-reference.html#uselayouteffect" target="_blank" rel="noopener noreferrer">useLayoutEffect<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>看起来和 useEffect 非常的相似，事实上他们也只有一点区别而已：</p><ul><li><p>useEffect 会在渲染的内容更新到 DOM 上后执行，不会阻塞 DOM 的更新</p></li><li><p>useLayoutEffect 会在渲染的内容更新到 DOM 上之前执行，会阻塞 DOM 的更新</p></li></ul><figure><img src="https://zfh-nanjing-bucket.oss-cn-nanjing.aliyuncs.com/blog-images/useLayoutEffect.png" alt="useLayoutEffect" tabindex="0" loading="lazy"><figcaption>useLayoutEffect</figcaption></figure><p>如果我们希望在某些操作发生之后再更新 DOM，那么应该将这个操作放到 useLayoutEffect：</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useLayoutEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token comment">// 使用useEffecrt,出现闪屏</span>
  <span class="token comment">// 实际上useLayoutEffect用的并不多</span>
  <span class="token function">useLayoutEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setCount</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        改数字
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>一开始先用 <code>useEffect</code></strong>，只有当它出问题的时候再尝试使用 <code>useLayoutEffect</code></p><h2 id="自定义-hook" tabindex="-1"><a class="header-anchor" href="#自定义-hook" aria-hidden="true">#</a> 自定义 Hook</h2><p>自定义 Hook 本质上只是一种函数代码逻辑的抽取，严格意义上来说，它本身并不算 React 的特性</p><h3 id="案例-1-所有的组件在创建和销毁时都进行打印" tabindex="-1"><a class="header-anchor" href="#案例-1-所有的组件在创建和销毁时都进行打印" aria-hidden="true">#</a> 案例 1:所有的组件在创建和销毁时都进行打印</h3><p>组件被创建：打印 组件被创建了；组件被销毁：打印 组件被销毁了</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Com1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">usePrintLog</span><span class="token punctuation">(</span><span class="token string">&#39;com1&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Com1</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">Com2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">usePrintLog</span><span class="token punctuation">(</span><span class="token string">&#39;com2&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Com2</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">Com3</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">usePrintLog</span><span class="token punctuation">(</span><span class="token string">&#39;com3&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Com3</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>display<span class="token punctuation">,</span> setdisplay<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token punctuation">{</span>display <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Com1</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Com1销毁</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>display <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Com2</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Com2销毁</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token punctuation">{</span>display <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Com3</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Com3销毁</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
        <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token function">setdisplay</span><span class="token punctuation">(</span><span class="token operator">!</span>display<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
      <span class="token punctuation">&gt;</span></span><span class="token plain-text">
        display?
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">usePrintLog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">创建了</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">销毁了</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="案例-2-context-的共享" tabindex="-1"><a class="header-anchor" href="#案例-2-context-的共享" aria-hidden="true">#</a> 案例 2:Context 的共享</h3><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> userContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../11_useHook_共享context/app&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token comment">// 自定义Hook</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">useUserContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>userContext<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>user<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token comment">// 在组件中使用</span>
<span class="token keyword">const</span> <span class="token function-variable function">User</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>user<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useUserContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="案例-2-获取滚动位置" tabindex="-1"><a class="header-anchor" href="#案例-2-获取滚动位置" aria-hidden="true">#</a> 案例 2:获取滚动位置</h3><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">function</span> <span class="token function">useScrollPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>scrollPosition<span class="token punctuation">,</span> setScrollPosition<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">handleScroll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setScrollPosition</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>scrollY<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">,</span> handleScroll<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;scroll&#39;</span><span class="token punctuation">,</span> handleScroll<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> scrollPosition
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> useScrollPosition
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> useScrollPosition <span class="token keyword">from</span> <span class="token string">&#39;./Hook/useScrollPosition&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> scrollPositon <span class="token operator">=</span> <span class="token function">useScrollPosition</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">&#39;2000px&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token string">&#39;fixed&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">当前滚动位置：</span><span class="token punctuation">{</span>scrollPositon<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="案例-3-localstorage-存储" tabindex="-1"><a class="header-anchor" href="#案例-3-localstorage-存储" aria-hidden="true">#</a> 案例 3：localStorage 存储</h3><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">const</span> <span class="token function-variable function">useLocalStorage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span> setData<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>data<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>data<span class="token punctuation">,</span> setData<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> useLocalStorage
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="redux-hooks" tabindex="-1"><a class="header-anchor" href="#redux-hooks" aria-hidden="true">#</a> redux hooks <span class="vp-badge warning" style="">待再次学习完善</span></h2><p>// TODO: 2022.8.16 待再次学习完善 参考：codewhy 视频，https://juejin.cn/post/6844903903981469703</p><p>使用 useSelector、useDispatch 等 HooksApi 替代 connect</p><p>useSelector 的作用是将 state 映射到组件中:</p><ul><li><p>参数一：将 state 映射到需要的数据中</p></li><li><p>参数二：可以进行比较来决定是否组件重新渲染（可以传入 react-redux 中的 shallowEqual 函数进行浅层比较）</p></li></ul><p>useSelector 默认会比较我们返回的两个对象是否相等，如何比较呢？ <code>const refEquality = (a, b) =&gt; a === b</code>,也就是我们必须返回两个<strong>完全相等</strong>的对象才可以不引起重新渲染（这一点真的很坑。connect 是会对 mapStateToProps 返回的对象进行浅层比较的）</p><p>::: tip 什么是浅层比较？</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// a simple implementation of the shallowCompare.</span>
<span class="token comment">// only compares the first level properties and hence shallow.</span>
<span class="token comment">// state updates(theoretically) if this function returns true.</span>
<span class="token keyword">function</span> <span class="token function">shallowCompare</span><span class="token punctuation">(</span><span class="token parameter">newObj<span class="token punctuation">,</span> prevObj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> newObj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!==</span> prevObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
<span class="token comment">//</span>
<span class="token keyword">var</span> game_item <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">game</span><span class="token operator">:</span> <span class="token string">&#39;football&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">first_world_cup</span><span class="token operator">:</span> <span class="token string">&#39;1930&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">teams</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">North_America</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">South_America</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token literal-property property">Europe</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">// Case 1:</span>
<span class="token comment">// if this be the object passed to setState</span>
<span class="token keyword">var</span> updated_game_item1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">game</span><span class="token operator">:</span> <span class="token string">&#39;football&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">first_world_cup</span><span class="token operator">:</span> <span class="token string">&#39;1930&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">teams</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">North_America</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">South_America</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token literal-property property">Europe</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">shallowCompare</span><span class="token punctuation">(</span>updated_game_item1<span class="token punctuation">,</span> game_item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>:::</p><p>useDispatch 非常简单，就是直接获取 dispatch 函数，之后在组件中直接使用即可</p><p>::: danger usedispatch 的坑</p><p>注意如果在 useEffect 中使用 dispatch，请将 dispatch 添加在依赖项数组中，否则可能会引起该组件的不停渲染，原因未知</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这里是利用redux-thunk发送网络请求</span>
  <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">getBannerDataAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>dispatch<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>:::</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider<span class="token punctuation">,</span> useSelector<span class="token punctuation">,</span> useDispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-redux&#39;</span>

<span class="token keyword">const</span> initialState <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">num</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">reducer</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state <span class="token operator">=</span> initialState<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&#39;decrement&#39;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> state<span class="token punctuation">.</span>num <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">}</span>
    <span class="token keyword">case</span> <span class="token string">&#39;increment&#39;</span><span class="token operator">:</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> <span class="token literal-property property">num</span><span class="token operator">:</span> state<span class="token punctuation">.</span>num <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span>
    <span class="token keyword">default</span><span class="token operator">:</span>
      <span class="token keyword">return</span> state
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">ComponentUseReactRedux</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">ComponentUseReactRedux</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Provider</span></span> <span class="token attr-name">store</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ChildComponentUseReactRedux</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Provider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">ChildComponentUseReactRedux</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token function">useSelector</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>num<span class="token punctuation">)</span>
  <span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">Using useSelector, useDispatch</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      Number: </span><span class="token punctuation">{</span>num<span class="token punctuation">}</span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;increment&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">+</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;decrement&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">-</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ComponentUseReactRedux
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!----><!--]--><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><!----></div></footer><nav class="vp-page-nav"><a aria-label="React组件化开发" class="vp-link nav-link prev nav-link prev" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/React%E7%BB%84%E4%BB%B6%E5%8C%96%E5%BC%80%E5%8F%91.html"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><span class="font-icon icon iconfont icon-zujian" style=""></span>React组件化开发</div></a><a aria-label="ReactRouter" class="vp-link nav-link next nav-link next" href="/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/React/ReactRouter.html"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">ReactRouter<span class="font-icon icon iconfont icon-luyou" style=""></span></div></a></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright © 2018-present Mr.Chen</div></footer></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-_V2SQyIj.js" defer></script>
  </body>
</html>
