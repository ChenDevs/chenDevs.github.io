const n=JSON.parse(`{"key":"v-246bef6e","path":"/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/JS/%E5%9C%A8%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E5%85%89%E6%A0%87%E5%A4%84%E6%8F%92%E5%85%A5%E5%86%85%E5%AE%B9.html","title":"在输入框的光标处插入内容","lang":"zh-CN","frontmatter":{"title":"在输入框的光标处插入内容","category":["开发笔记","JS"],"description":"在输入框的光标处插入内容 //在光标处插入文字 field为文本框的DOM元素,value要插入的字符 function insertText(field, value) { const startPos = field.selectionStart const endPos = field.selectionEnd // 保存光标所在处滚动高度 const restoreTop = field.scrollTop field.value = field.value.substring(0, startPos) + value + field.value.substring(endPos, field.value.length) field.focus() // 让文本域卷动高度保持在光标所在处 field.scrollTop = restoreTop field.selectionStart = startPos + value.length field.selectionEnd = startPos + value.length }","head":[["meta",{"property":"og:url","content":"http://magicbegin.gitee.io/vuepress-blog/%E5%BC%80%E5%8F%91%E6%97%A5%E5%BF%97/JS/%E5%9C%A8%E8%BE%93%E5%85%A5%E6%A1%86%E7%9A%84%E5%85%89%E6%A0%87%E5%A4%84%E6%8F%92%E5%85%A5%E5%86%85%E5%AE%B9.html"}],["meta",{"property":"og:site_name","content":"Mr Chen's Blog"}],["meta",{"property":"og:title","content":"在输入框的光标处插入内容"}],["meta",{"property":"og:description","content":"在输入框的光标处插入内容 //在光标处插入文字 field为文本框的DOM元素,value要插入的字符 function insertText(field, value) { const startPos = field.selectionStart const endPos = field.selectionEnd // 保存光标所在处滚动高度 const restoreTop = field.scrollTop field.value = field.value.substring(0, startPos) + value + field.value.substring(endPos, field.value.length) field.focus() // 让文本域卷动高度保持在光标所在处 field.scrollTop = restoreTop field.selectionStart = startPos + value.length field.selectionEnd = startPos + value.length }"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2023-10-27T11:35:00.000Z"}],["meta",{"property":"article:author","content":"Mr Chen"}],["meta",{"property":"article:modified_time","content":"2023-10-27T11:35:00.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"在输入框的光标处插入内容\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-10-27T11:35:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Mr Chen\\",\\"url\\":\\"https://gitee.com/magicBegin/vuepress-blog\\",\\"email\\":\\"599422271@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"示例","slug":"示例","link":"#示例","children":[]},{"level":2,"title":"说明","slug":"说明","link":"#说明","children":[]}],"git":{"createdTime":1698406500000,"updatedTime":1698406500000,"contributors":[{"name":"chenzhen","email":"599422271@qq.com","commits":1}]},"readingTime":{"minutes":0.72,"words":216},"filePathRelative":"开发日志/JS/在输入框的光标处插入内容.md","localizedDate":"2023年10月27日","excerpt":"<h1> 在输入框的光标处插入内容</h1>\\n<div class=\\"language-javascript line-numbers-mode\\" data-ext=\\"js\\"><pre class=\\"language-javascript\\"><code><span class=\\"token comment\\">//在光标处插入文字   field为文本框的DOM元素,value要插入的字符</span>\\n<span class=\\"token keyword\\">function</span> <span class=\\"token function\\">insertText</span><span class=\\"token punctuation\\">(</span><span class=\\"token parameter\\">field<span class=\\"token punctuation\\">,</span> value</span><span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n  <span class=\\"token keyword\\">const</span> startPos <span class=\\"token operator\\">=</span> field<span class=\\"token punctuation\\">.</span>selectionStart\\n  <span class=\\"token keyword\\">const</span> endPos <span class=\\"token operator\\">=</span> field<span class=\\"token punctuation\\">.</span>selectionEnd\\n  <span class=\\"token comment\\">// 保存光标所在处滚动高度</span>\\n  <span class=\\"token keyword\\">const</span> restoreTop <span class=\\"token operator\\">=</span> field<span class=\\"token punctuation\\">.</span>scrollTop\\n  field<span class=\\"token punctuation\\">.</span>value <span class=\\"token operator\\">=</span>\\n    field<span class=\\"token punctuation\\">.</span>value<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">substring</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> startPos<span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">+</span>\\n    value <span class=\\"token operator\\">+</span>\\n    field<span class=\\"token punctuation\\">.</span>value<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">substring</span><span class=\\"token punctuation\\">(</span>endPos<span class=\\"token punctuation\\">,</span> field<span class=\\"token punctuation\\">.</span>value<span class=\\"token punctuation\\">.</span>length<span class=\\"token punctuation\\">)</span>\\n  field<span class=\\"token punctuation\\">.</span><span class=\\"token function\\">focus</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span>\\n  <span class=\\"token comment\\">// 让文本域卷动高度保持在光标所在处</span>\\n  field<span class=\\"token punctuation\\">.</span>scrollTop <span class=\\"token operator\\">=</span> restoreTop\\n  field<span class=\\"token punctuation\\">.</span>selectionStart <span class=\\"token operator\\">=</span> startPos <span class=\\"token operator\\">+</span> value<span class=\\"token punctuation\\">.</span>length\\n  field<span class=\\"token punctuation\\">.</span>selectionEnd <span class=\\"token operator\\">=</span> startPos <span class=\\"token operator\\">+</span> value<span class=\\"token punctuation\\">.</span>length\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{n as data};
